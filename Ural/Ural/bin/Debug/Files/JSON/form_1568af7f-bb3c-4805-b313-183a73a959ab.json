{"data":{"template":"<sgdh:SGDHeader xmlns:sgdh=\"http://www.bssys.com/SMEV/WS/SGD/2\">\n    <sgdh:Recipient>\n    \t<sgdh:Code>${request.data.nameInspection.oktmo?:''}</sgdh:Code>\n\t\t<sgdh:Name>${request.data.nameInspection.title?:''}</sgdh:Name>\n\t</sgdh:Recipient>\n\t<sgdh:serviceCode>${request.serviceId}</sgdh:serviceCode>\n</sgdh:SGDHeader>","form":{"attributes":[{"appearance":"required","name":"nameInspection","typeCfg":{"code":"remoteDict_eabe22be-ab45-4dd5-b94a-e3b3bf39c49e"},"label":"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u0438\u043D\u0441\u043F\u0435\u043A\u0446\u0438\u0438","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"1\")\n{ attr.description=\"403241, \u0441\u0442. \u0410\u043B\u0435\u043A\u0441\u0435\u0435\u0432\u0441\u043A\u0430\u044F, \u0443\u043B. \u041A\u0440\u0430\u0441\u043D\u043E\u0433\u0432\u0430\u0440\u0434\u0435\u0439\u0441\u043A\u0430\u044F, 73\"}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"2\")\n{ attr.description=\"404062, \u043F.\u0433.\u0442. \u0411\u044B\u043A\u043E\u0432\u043E, \u0443\u043B. \u0412\u043E\u043B\u0436\u0441\u043A\u0430\u044F, 40\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"3\")\n{ attr.description=\"403003, \u0440.\u043F. \u0413\u043E\u0440\u043E\u0434\u0438\u0449\u0435, \u0443\u043B. \u0410\u0432\u0442\u043E\u043C\u043E\u0431\u0438\u043B\u0438\u0441\u0442\u043E\u0432,6\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"4\")\n{ attr.description='403371, \u0440.\u043F. \u0414\u0430\u043D\u0438\u043B\u043E\u0432\u043A\u0430, \u0443\u043B. \u0424\u0435\u0434\u043E\u0440\u0446\u043E\u0432\u0430, 5'}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"5\")\n{ attr.description=\"404002, \u0433. \u0414\u0443\u0431\u043E\u0432\u043A\u0430, \u0443\u043B. \u041C\u0438\u043D\u0438\u043D\u0430, 1\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"6\")\n{ attr.description=\"403732, \u0440.\u043F. \u0415\u043B\u0430\u043D\u044C, \u0443\u043B. \u041B\u0435\u043D\u0438\u043D\u0441\u043A\u0430\u044F, 121\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"7\")\n{ attr.description=\"403791, \u0433. \u0416\u0438\u0440\u043D\u043E\u0432\u0441\u043A, \u0443\u043B. \u041C\u0430\u0442\u0440\u043E\u0441\u043E\u0432\u0430, 2\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"8\")\n{ attr.description=\"403071, \u0440.\u043F. \u0418\u043B\u043E\u0432\u043B\u044F, \u043F\u043B\u043E\u0449\u0430\u0434\u044C \u041B\u0435\u043D\u0438\u043D\u0430,1\"}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"9\")\n{ attr.description=\"404507, \u0433. \u041A\u0430\u043B\u0430\u0447, \u0443\u043B. \u041E\u043A\u0442\u044F\u0431\u0440\u044C\u0441\u043A\u0430\u044F, 71\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"10\")\n{ attr.description=\"403876, \u0433. \u041A\u0430\u043C\u044B\u0448\u0438\u043D, \u0443\u043B. \u0412\u043E\u0438\u043D\u043E\u0432-\u0418\u043D\u0442\u0435\u0440\u043D\u0430\u0446\u0438\u043E\u043D\u0430\u043B\u0438\u0441\u0442\u043E\u0432, 13\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"11\")\n{ attr.description='403220, \u0441\u0442. \u041F\u0440\u0435\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0441\u043A\u0430\u044F, \u0443\u043B. \u041C\u0438\u0440\u0430, 57'}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"12\")\n{ attr.description=\"403562, \u0441\u0442. \u041A\u043B\u0435\u0442\u0441\u043A\u0430\u044F, \u0443\u043B. \u0414\u044B\u043C\u0447\u0435\u043D\u043A\u043E, 47\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"13\")\n{ attr.description=\"404354, \u0433. \u041A\u043E\u0442\u0435\u043B\u044C\u043D\u0438\u043A\u043E\u0432\u043E, \u0443\u043B. \u041B\u0435\u043D\u0438\u043D\u0430, 27\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"14\")\n{ attr.description=\"403805, \u0433. \u041A\u043E\u0442\u043E\u0432\u043E, \u0443\u043B. \u041C\u0438\u0440\u0430, 155\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"15\")\n{ attr.description=\"403400, \u0441\u0442. \u041A\u0443\u043C\u044B\u043B\u0436\u0435\u043D\u0441\u043A\u0430\u044F, \u0443\u043B. \u041C\u0438\u0440\u0430, 25\"}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"16\")\n{ attr.description=\"404620, \u0433. \u041B\u0435\u043D\u0438\u043D\u0441\u043A, \u0443\u043B. \u0427\u0430\u043F\u0430\u0435\u0432\u0430, 1\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"17\")\n{ attr.description=\"403300, \u0433. \u041C\u0438\u0445\u0430\u0439\u043B\u043E\u0432\u043A\u0430, \u0443\u043B. \u041C\u0438\u0440\u0430, 65\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"18\")\n{ attr.description='403171, \u0441\u0442. \u041D\u0435\u0445\u0430\u0435\u0432\u0441\u043A\u0430\u044F, \u0443\u043B. \u041C\u0438\u0440\u0430, 17'}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"19\")\n{ attr.description=\"404033\u0433. \u041D\u0438\u043A\u043E\u043B\u0430\u0435\u0432\u0441\u043A, \u0443\u043B. \u041E\u043A\u0442\u044F\u0431\u0440\u044C\u0441\u043A\u0430\u044F, 21\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"20\")\n{ attr.description=\"403958, \u0433. \u041D\u043E\u0432\u043E\u0430\u043D\u043D\u0438\u043D\u0441\u043A\u0438\u0439, \u0443\u043B. \u0421\u043E\u0432\u0435\u0442\u0441\u043A\u0430\u044F, 92\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"21\")\n{ attr.description=\"403901, \u0440.\u043F. \u041D\u043E\u0432\u043E\u043D\u0438\u043A\u043E\u043B\u0430\u0435\u0432\u0441\u043A\u0438\u0439, \u0443\u043B. \u041D\u0430\u0440\u043E\u0434\u043D\u0430\u044F, 156 \u0430\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"22\")\n{ attr.description=\"404321, \u0440.\u043F. \u041E\u043A\u0442\u044F\u0431\u0440\u044C\u0441\u043A\u0438\u0439, \u0443\u043B. \u041A\u0440\u0443\u0433\u043B\u044F\u043A\u043E\u0432\u0430, 164\u0411\"}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"23\")\n{ attr.description=\"403650, \u0441. \u041E\u043B\u044C\u0445\u043E\u0432\u043A\u0430, \u0443\u043B. \u041A\u043E\u043C\u0441\u043E\u043C\u043E\u043B\u044C\u0441\u043A\u0430\u044F, 9\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"24\")\n{ attr.description=\"404264, \u0433. \u041F\u0430\u043B\u043B\u0430\u0441\u043E\u0432\u043A\u0430, \u0443\u043B. \u041F\u0435\u0440\u0432\u043E\u043C\u0430\u0439\u0441\u043A\u0430\u044F, 1\u0411\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"25\")\n{ attr.description='403601, \u0440.\u043F. \u0420\u0443\u0434\u043D\u044F, \u0443\u043B. \u041E\u043A\u0442\u044F\u0431\u0440\u044C\u0441\u043A\u0430\u044F, 112'}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"26\")\n{ attr.description=\"404171, \u0440.\u043F. \u0421\u0432\u0435\u0442\u043B\u044B\u0439 \u042F\u0440, \u043C\u043A\u0440-\u043D 1, \u0434. 31\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"27\")\n{ attr.description=\"403441, \u0433. \u0421\u0435\u0440\u0430\u0444\u0438\u043C\u043E\u0432\u0438\u0447, \u0443\u043B. \u0411\u043B\u0438\u043D\u043E\u0432\u0430, 3 \u0430\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"28\")\n{ attr.description=\"404143, \u0440.\u043F. \u0421\u0440\u0435\u0434\u043D\u044F\u044F \u0410\u0445\u0442\u0443\u0431\u0430, \u0443\u043B. \u0421\u0432\u0435\u0440\u0434\u043B\u043E\u0432\u0430, 35\u0430\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"29\")\n{ attr.description=\"404210, \u0441. \u0421\u0442\u0430\u0440\u0430\u044F \u041F\u043E\u043B\u0442\u0430\u0432\u043A\u0430, \u0443\u043B. \u0421\u0442\u0435\u043F\u043D\u0430\u044F, 13 \u0430\"}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"30\")\n{ attr.description=\"404420, \u0433. \u0421\u0443\u0440\u043E\u0432\u0438\u043A\u0438\u043D\u043E, \u0443\u043B. \u041B\u0435\u043D\u0438\u043D\u0430, 64 \u0430\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"31\")\n{ attr.description=\"403113, \u0433. \u0423\u0440\u044E\u043F\u0438\u043D\u0441\u043A, \u0443\u043B. \u0413\u0430\u0433\u0430\u0440\u0438\u043D\u0430, 34\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"32\")\n{ attr.description='403535, \u0433. \u0424\u0440\u043E\u043B\u043E\u0432\u043E, \u043C\u043A\u0440-\u043D \u0417\u0430\u0440\u0435\u0447\u043D\u044B\u0439, 36'}\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"33\")\n{ attr.description=\"404462, \u0440.\u043F. \u0427\u0435\u0440\u043D\u044B\u0448\u043A\u043E\u0432\u0441\u043A\u0438\u0439,   \u0443\u043B. \u0421\u043E\u0432\u0435\u0442\u0441\u043A\u0430\u044F, 80\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"34\")\n{ attr.description=\"400050, \u0433. \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434, \u0443\u043B. \u0414\u043D\u0435\u0441\u0442\u0440\u043E\u0432\u0441\u043A\u0430\u044F, 12 \u0431\" }\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.nameDepartment.code') == \"35\")\n{ attr.description=\"404130, \u0433. \u0412\u043E\u043B\u0436\u0441\u043A\u0438\u0439, \u0443\u043B. 19 \u041F\u0430\u0440\u0442\u0441\u044A\u0435\u0437\u0434\u0430, 30\" }","typeClass":"com.pgg.portal.types.RemoteDictType","type":"ComplexType"},{"appearance":"required","name":"Reasons","typeCfg":{"code":"remoteDict_753b0b85-10de-4b54-a567-05dd78ad7602"},"label":"\u041F\u0440\u0438\u0447\u0438\u043D\u0430 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u044F","script":"","typeClass":"com.pgg.portal.types.RemoteDictType","type":"ComplexType"},{"appearance":"normal","name":"applicant_have_doc","label":"\u0418\u043C\u0435\u0435\u0442\u0441\u044F \u0440\u0430\u043D\u0435\u0435 \u0432\u044B\u0434\u0430\u043D\u043D\u043E\u0435 \u0443\u0434\u043E\u0441\u0442\u043E\u0432\u0435\u0440\u0435\u043D\u0438\u0435 \u043D\u0430 \u043F\u0440\u0430\u0432\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F","script":"","type":"Boolean"},{"appearance":"nonPresent","name":"applicantCL_certDocument","label":"\u0421\u0412\u0415\u0414\u0415\u041D\u0418\u042F \u041E\u0411 \u0423\u0414\u041E\u0421\u0422\u041E\u0412\u0415\u0420\u0415\u041D\u0418\u0418","attributes":[{"appearance":"normal","description":"\u041D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0443\u0434\u043E\u0441\u0442\u043E\u0432\u0435\u0440\u0435\u043D\u0438\u0435 \u043C\u0430\u0448\u0438\u043D\u0438\u0441\u0442\u0430-\u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430 \u0438\u043B\u0438 \u0434\u0440\u0443\u0433\u043E\u0439 \u0442\u0438\u043F","name":"applicantCL_certDocument_docType","hint":{"type":"text"},"label":"\u0422\u0438\u043F","type":"String"},{"appearance":"normal","name":"applicantCL_certDocument_series","hint":{"type":"string"},"label":"\u0421\u0435\u0440\u0438\u044F","type":"String"},{"appearance":"normal","name":"applicantCL_certDocument_number","label":"\u041D\u043E\u043C\u0435\u0440","hint":{"type":"string"},"script":"","type":"String"},{"appearance":"normal","name":"applicantCL_certDocument_issueOrgan","hint":{"type":"text"},"label":"\u041A\u0435\u043C \u0432\u044B\u0434\u0430\u043D","type":"String"},{"appearance":"normal","name":"applicantCL_certDocument_issueDate","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"}],"script":"if (parent.map.applicant_have_doc ==true){\n    attr.appearance=\"normal\"\n}\nelse\n{\n    attr.appearance=\"nonPresent\"\n}","type":"Map"},{"appearance":"normal","name":"docPersonalProv","label":"\u041A\u043E\u043F\u0438\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 \u0431\u0443\u0434\u0443\u0442 \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u044B \u043B\u0438\u0447\u043D\u043E","type":"Boolean","script":""},{"min":0,"element":{"attributes":[{"appearance":"required","description":"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043A\u043E\u043F\u0438\u044F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u0441\u043E\u0431\u043E\u0439 \u043E\u0434\u0438\u043D \u0444\u0430\u0439\u043B \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 PDF, DOC, XLS, XLSX, JPG \u0438\u043B\u0438 ZIP, \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u043E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043E\u0431\u0440\u0430\u0437 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E \u0431\u0443\u043C\u0430\u0436\u043D\u043E\u0433\u043E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430, \u0437\u0430\u0432\u0435\u0440\u0435\u043D\u043D\u043E\u0433\u043E \u043D\u0430\u0434\u043B\u0435\u0436\u0430\u0449\u0438\u043C \u043E\u0431\u0440\u0430\u0437\u043E\u043C \u0438 \u0441\u043D\u0430\u0431\u0436\u0435\u043D\u043D\u043E\u0433\u043E \u0432\u0441\u0435\u043C\u0438 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u043C\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u044F\u043C\u0438 \u0438 \u043F\u0435\u0447\u0430\u0442\u044F\u043C\u0438.","name":"fileDoc","typeCfg":{},"label":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442","typeClass":"com.pgg.s1.core.types.FileType","type":"ComplexType","script":""},{"appearance":"normal","name":"descriptionDoc","hint":{"type":"text"},"label":"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435","type":"String"}],"type":"Map"},"max":7,"appearance":"normal","description":"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C\u0443 \u0436\u0435\u043B\u0430\u043D\u0438\u044E \u043F\u0440\u0438\u043B\u043E\u0436\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B, \u0442\u0440\u0435\u0431\u0443\u0435\u043C\u044B\u0435 \u0434\u043B\u044F \u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044F \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0435\u0439 \u0443\u0441\u043B\u0443\u0433\u0438 \u0432 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043D\u044B\u043C \u0440\u0435\u0433\u043B\u0430\u043C\u0435\u043D\u0442\u043E\u043C.\n\u041E\u0431\u044A\u0435\u043C \u0432\u0441\u0435\u0445 \u043F\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043C\u044B\u0445 \u0444\u0430\u0439\u043B\u043E\u0432 \u043D\u0435 \u0434\u043E\u043B\u0436\u0435\u043D \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0442\u044C 5 \u041C\u0431.","name":"applied_documents","label":"\u0414\u041E\u0411\u0410\u0412\u041B\u0415\u041D\u0418\u0415 \u0414\u041E\u041A\u0423\u041C\u0415\u041D\u0422\u041E\u0412","type":"List","script":"if (parent.map.docPersonalProv ==true){\n    attr.appearance=\"nonPresent\"\n}\nelse\n{\n    attr.appearance=\"normal\"\n}"}]},"allowNonVerified":false,"before":{"script":"import com.pgg.portal.FileHelper\r\nimport com.pgg.s1.core.ClassResolver\r\nimport com.pgg.s1.core.storage.FileStorage\r\n//import com.pgg.s1.print.RTFFormat\r\nimport org.apache.commons.io.IOUtils\r\n/*---*/\r\n// \u0444\u043E\u0440\u043C\u0438\u0440\u0443\u0435\u043C \u0442\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F \u043F\u043E \u0428\u0428\r\ndef u = com.pgg.s1.core.UserResolver.getInstance().whoAmI();\r\ndef req = request.requestor\r\nswitch ( req.type ) {\r\ncase   'citizen'  :\r\n        if (req.id == \"me\") {\r\n    \t\ttypeRequestor = 'Fl' \r\n    \t\tbreak\r\n        }else if (req.id != \"me\") {\r\n            typeRequestor = 'Pfl' \r\n    \t\tbreak    \r\n        }else {\r\n            break\r\n        }\r\ncase  'businessman':\r\n\t\tif (req.id == \"me\") {\r\n    \t\ttypeRequestor = 'Ip' \r\n    \t\tbreak\r\n        }else if (req.id != \"me\") {\r\n            typeRequestor = 'Pip' \r\n    \t\tbreak    \r\n        }else {\r\n            break\r\n        }\r\n\t\tbreak\r\ncase 'organization':\r\n        typeRequestor = 'Ul'\r\n        break\r\n default:\r\n        typeRequestor = 'UNDEFINE'\r\n}\r\n/*---*/\r\nctx.element = \"PutDocument\"\r\nctx.tns = \"http://www.red-soft.biz/ncore/dx/ws/smev-25\"\r\nctx.recipientCode = \"001204341\"\r\nctx.recipientName = \"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0433\u0430\u0440\u0430\u043D\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\r\nctx.originatorCode = \"PGU_SYS_1\"\r\nctx.originatorName = \"\u0420\u041F\u0413\u0423 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\r\nctx.senderCode = \"PGU_SYS_1\"\r\nctx.senderName = \"\u0420\u041F\u0413\u0423 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\r\n//ctx.mustSignXml = false; //\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u044C \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0438\u043D\u0430\r\nctx.files = [\r\n    /*\u041F\u0440\u0438\u043C\u0435\u0440 \u043F\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0444\u0430\u0439\u043B\u0430 (data.f1.id) \u0432 \u0430\u0440\u0445\u0438\u0432\u0435*/    /*[group:\"default\",id:request.data.f1.id,name:\"\u0442\u0435\u0441\u0442\"]*/\r\n];\r\n/*\u041A\u043E\u0434 req_...xml, \u043D\u043E \u0431\u0435\u0437 \u0441\u0435\u043A\u0446\u0438\u0438 AppliedDocuments - \u043E\u043D\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438*/\r\ndef xml_test = \"\";\r\n/*---*/\r\ndef xmlClone\r\n/*---*/\r\ndef address = \"\";\r\ndef requestor = request.requestor;\r\n\r\ndef data = request.data;\r\n\r\ndef now_date = new Date()\r\n\r\nnow_date = now_date.format(\"dd.MM.yyyy\");\r\n\r\nif (request.requestor.type == 'citizen'){\r\nif(!request.requestor.data.birthDate) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F'\");\r\nif(!request.requestor.data.passport?.series) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0421\u0435\u0440\u0438\u044F \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430'\");\r\nif(!request.requestor.data.passport?.number) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041D\u043E\u043C\u0435\u0440 \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430'\");\r\nif(!request.requestor.data.passport?.date) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0414\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430'\");\r\nif(!request.requestor.data.passport?.dept) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041E\u0440\u0433\u0430\u043D \u0432\u044B\u0434\u0430\u0432\u0448\u0438\u0439 \u043F\u0430\u0441\u043F\u043E\u0440\u0442'\");\r\nif(!request.requestor.data.address?.index) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u0438\u043D\u0434\u0435\u043A\u0441 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438'\");\r\nif(!request.requestor.data.address?.region) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0421\u0443\u0431\u044A\u0435\u043A\u0442 \u0420\u0424 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438'\");\r\nif(!request.requestor.data.factAddress?.index) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u0438\u043D\u0434\u0435\u043A\u0441 \u0430\u0434\u0440\u0435\u0441\u0430 \u0444\u0430\u043A\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u044F'\");\r\nif(!request.requestor.data.factAddress?.region) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0421\u0443\u0431\u044A\u0435\u043A\u0442 \u0420\u0424 \u0444\u0430\u043A\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043F\u0440\u043E\u0436\u0438\u0432\u0430\u043D\u0438\u044F'\");\r\nif(!request.requestor.data.phone) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0422\u0435\u043B\u0435\u0444\u043E\u043D'\")}\r\n\r\nif(com.pgg.s1.core.format.MapHelper.get(request,'data.applicantCL_certDocument.applicantCL_certDocument_issueDate')){\r\napplicantCL_certDocument_issueDate = \"\"\"<applicantCL_certDocument_issueDate>${request.data.applicantCL_certDocument.applicantCL_certDocument_issueDate.format('yyyy-MM-dd')}</applicantCL_certDocument_issueDate>\"\"\";\r\n}else {\r\napplicantCL_certDocument_issueDate = \"\"\"<applicantCL_certDocument_issueDate></applicantCL_certDocument_issueDate>\"\"\";}\r\n\r\n\tdef messager=\"\";\r\n\tdef applicantULData = \"\";\r\n\tdef powerOfAttorney = \"\";\r\n\t\r\nif(!request.requestor.data.birthDate) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F'\");\r\n/*if(com.pgg.s1.core.format.MapHelper.get(request,'request.requestor.data.birthDate')){\r\napplicantFL_birthDate = \"\"\"<applicantFL_birthDate>${request.requestor.data.birthDate}</applicantFL_birthDate>\"\"\";\r\n}else {\r\napplicant_databirth_date = \"\"\"<applicantFL_birthDate></applicantFL_birthDate>\"\"\";}*/\r\n\r\n\r\n    messager = \"\"\"\r\n            <tns:applicantFL_surname>${requestor.data.name.surname?:''}</tns:applicantFL_surname>\r\n            <tns:applicantFL_name>${requestor.data.name.name?:''}</tns:applicantFL_name>                \r\n            <tns:applicantFL_patronymic>${requestor.data.name.patronymic?:''}</tns:applicantFL_patronymic>\r\n            <tns:applicantFL_birthDate>${requestor.data.birthDate.format(\"yyyy-MM-dd\")}</tns:applicantFL_birthDate>\r\n            <tns:applicantFL_SNILS>${requestor.data.snils?:''}</tns:applicantFL_SNILS>\r\n            <tns:applicantFL_INN>${requestor.data.inn?:''}</tns:applicantFL_INN>\r\n            <tns:applicantFL_certDocument_docType>\u043F\u0430\u0441\u043F\u043E\u0440\u0442</tns:applicantFL_certDocument_docType>\r\n            <tns:applicantFL_certDocument_series>${requestor.data.passport.series?:''}</tns:applicantFL_certDocument_series>\r\n            <tns:applicantFL_certDocument_number>${requestor.data.passport.number?:''}</tns:applicantFL_certDocument_number>\r\n            <tns:applicantFL_certDocument_issueDate>${requestor.data.passport.date.format(\"yyyy-MM-dd\")}</tns:applicantFL_certDocument_issueDate>\r\n            <tns:applicantFL_certDocument_issueOrgan>${requestor.data.passport.dept?:''}</tns:applicantFL_certDocument_issueOrgan>\r\n            <tns:applicantFL_certDocument_depCode></tns:applicantFL_certDocument_depCode>\r\n            <tns:applicantFL_certDocument_endDate></tns:applicantFL_certDocument_endDate>\r\n            <tns:applicantFL_phone>${requestor.data.phone?:''}</tns:applicantFL_phone>\r\n            <tns:applicantFL_fax></tns:applicantFL_fax>\r\n            <tns:applicantFL_eMail>${requestor.data.email?:''}</tns:applicantFL_eMail>\r\n    \"\"\"\r\n\t\r\ndef postaddress = \"\";\r\naddress = \"\"\"\r\n\t\t\t<tns:AddressReg_ZIPCode>${requestor.data.address.index?:''}</tns:AddressReg_ZIPCode>\r\n            <tns:AddressReg_region>${requestor.data.address.region?:''}</tns:AddressReg_region>\r\n            <tns:AddressReg_area>${requestor.data.address.raion?:''}</tns:AddressReg_area>\r\n            <tns:AddressReg_city>${requestor.data.address.city?:''}</tns:AddressReg_city>\r\n            <tns:AddressReg_village>${requestor.data.address.town?:''}</tns:AddressReg_village>\r\n\t\t\t<tns:AddressReg_street>${requestor.data.address.street?:''}</tns:AddressReg_street>\r\n            <tns:AddressReg_house>${requestor.data.address.house?:''}</tns:AddressReg_house>\r\n            <tns:AddressReg_building>${requestor.data.address.building?:''}</tns:AddressReg_building>\r\n            <tns:AddressReg_flat>${requestor.data.address.flat?:''}</tns:AddressReg_flat>\r\n            <tns:AddressReg_ext>${requestor.data.address.ext?:''}</tns:AddressReg_ext>\r\n            <tns:postAddress_ZIPCode>${requestor.data.factAddress.index?:''}</tns:postAddress_ZIPCode>\r\n            <tns:postAddress_region>${requestor.data.factAddress.region?:''}</tns:postAddress_region>\r\n            <tns:postAddress_area>${requestor.data.factAddress.raion?:''}</tns:postAddress_area>\r\n            <tns:postAddress_city>${requestor.data.factAddress.city?:''}</tns:postAddress_city>\r\n            <tns:postAddress_village>${requestor.data.factAddress.town?:''}</tns:postAddress_village>\r\n\t\t\t<tns:postAddress_street>${requestor.data.factAddress.street?:''}</tns:postAddress_street>\r\n            <tns:postAddress_house>${requestor.data.factAddress.house?:''}</tns:postAddress_house>\r\n            <tns:postAddress_building>${requestor.data.factAddress.building?:''}</tns:postAddress_building>\r\n            <tns:postAddress_flat>${requestor.data.factAddress.flat?:''}</tns:postAddress_flat>\r\n            <tns:postAddress_ext>${requestor.data.factAddress.ext?:''}</tns:postAddress_ext>\r\n\"\"\"\r\napplicant_have_doc = \"\";\r\n    if (request.data.applicant_have_doc == true)\r\n    {applicant_have_doc = \"\"\"\r\n            <tns:applicant_have_doc>\u0414\u0430</tns:applicant_have_doc>\r\n            <tns:applicantCL_certDocument_docType>${request.data.applicantCL_certDocument.applicantCL_certDocument_docType?:''}</tns:applicantCL_certDocument_docType>\r\n\t\t\t<tns:applicantCL_certDocument_series>${request.data.applicantCL_certDocument.applicantCL_certDocument_series?:''}</tns:applicantCL_certDocument_series>\r\n\t\t\t<tns:applicantCL_certDocument_num>${request.data.applicantCL_certDocument.applicantCL_certDocument_number?:''}</tns:applicantCL_certDocument_num>\r\n\t\t\t<tns:applicantCL_certDocument_issueOrgan>${request.data.applicantCL_certDocument.applicantCL_certDocument_issueOrgan?:''}</tns:applicantCL_certDocument_issueOrgan>\r\n\t\t\t${applicantCL_certDocument_issueDate}\r\n    \"\"\"}\r\n    else\r\n    {applicant_have_doc = \"\"\"<tns:applicant_have_doc>\u041D\u0435\u0442</tns:applicant_have_doc>\"\"\"}\r\n\r\ndef contentdata = \"\";\r\n\r\n    contentdata = \"\"\"\r\n        <tns:nameInspection>${request.data.nameInspection.title?:''}</tns:nameInspection>\r\n\t\t<tns:\u041E\u041A\u0422\u041C\u041E>${request.data.nameInspection.oktmo?:''}</tns:\u041E\u041A\u0422\u041C\u041E>\r\n\t\t<tns:reason>${request.data.Reasons.title?:''}</tns:reason>\r\n\t\t\t\r\n\t  \"\"\"\r\n\r\nif (typeRequestor == 'Fl'){\r\nctx.request_xml = \"\"\"\r\n    <fed:Data xmlns:fed=\"http://smev.gosuslugi.ru/request/fed/rev120528\" >\r\n    <fed:FormData>\r\n    <tns:IQEpguVlg9332 xmlns:tns=\"http://www.red-soft.biz/schemas/shgate/common/2011/0.5\">\r\n        ${address}${messager}${contentdata}${applicant_have_doc}</tns:IQEpguVlg9332>\r\n    </fed:FormData></fed:Data>\r\n\"\"\";}\r\n\r\nif (typeRequestor == 'Pfl'){\r\nctx.request_xml = \"\"\"\r\n    <fed:Data xmlns:fed=\"http://smev.gosuslugi.ru/request/fed/rev120528\" >\r\n    <fed:FormData>\r\n    <tns:IQEpguVlg9332 xmlns:tns=\"http://www.red-soft.biz/schemas/shgate/common/2011/0.5\">\r\n        ${address}${messager}${contentdata}${applicant_have_doc}</tns:IQEpguVlg9332>\r\n    </fed:FormData></fed:Data>\r\n\"\"\";}\r\ndef size = 0;\r\n\r\nif (request.data.docPersonalProv == true)\r\n    {\r\n        ctx.mustSignFiles = false;\r\n        ctx.mustSignXml = false;\r\n    }\r\nelse{\r\n        ctx.mustSignXml = true;\r\n        ctx.mustSignFiles = true;\r\n        for(def i=0; i < request.data.applied_documents.fileDoc.size(); i++)\r\n        {\r\n            ctx.files.add([group:\"default\",id:request.data.applied_documents[i].fileDoc.id,name:\"\"])   \r\n            size = size + request.data.applied_documents[i].fileDoc.size;\r\n        }\r\n        if (size > 5000000){\r\n            throw new Exception(\"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043F\u0440\u0438\u043A\u0440\u0435\u043F\u043B\u044F\u0435\u043C\u044B\u0445 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 (\"+size+\" \u0431\u0430\u0439\u0442) \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0435\u0442 5\u041C\u0431.\");\r\n        }\r\n    }"},"format":"com.pgg.interdept.format.MR255Format","date":"/Date(1391078253463)/","procedures":[{"serviceTitle":"\u041F\u0440\u0438\u0435\u043C \u044D\u043A\u0437\u0430\u043C\u0435\u043D\u043E\u0432 \u043D\u0430 \u043F\u0440\u0430\u0432\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u0430\u043C\u043E\u0445\u043E\u0434\u043D\u044B\u043C\u0438 \u043C\u0430\u0448\u0438\u043D\u0430\u043C\u0438 \u0438 \u0432\u044B\u0434\u0430\u0447\u0430 \u0443\u0434\u043E\u0441\u0442\u043E\u0432\u0435\u0440\u0435\u043D\u0438\u0439 \u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430-\u043C\u0430\u0448\u0438\u043D\u0438\u0441\u0442\u0430 (\u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430)","serviceId":"3400000010000009332","procedureTitle":"\u041F\u043E\u043B\u0443\u0447\u0435\u043D\u0438\u0435 \u0443\u0434\u043E\u0441\u0442\u043E\u0432\u0435\u0440\u0435\u043D\u0438\u044F \u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430 \u043C\u0430\u0448\u0438\u043D\u0438\u0441\u0442\u0430(\u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430) \u0438 \u0432\u0440\u0435\u043C\u0435\u043D\u043D\u043E\u0433\u043E \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u0438\u044F \u043D\u0430 \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0442\u0440\u0430\u043D\u0441\u043F\u043E\u0440\u0442\u043D\u044B\u043C\u0438 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043C\u0438","deptTitle":"\u0418\u043D\u0441\u043F\u0435\u043A\u0446\u0438\u044F \u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u043D\u0430\u0434\u0437\u043E\u0440\u0430 \u0437\u0430 \u0442\u0435\u0445\u043D\u0438\u0447\u0435\u0441\u043A\u0438\u043C \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u0435\u043C \u0441\u0430\u043C\u043E\u0445\u043E\u0434\u043D\u044B\u0445 \u043C\u0430\u0448\u0438\u043D \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0432\u0438\u0434\u043E\u0432 \u0442\u0435\u0445\u043D\u0438\u043A\u0438 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438","deptId":"3400000010000000072","procedureId":"3400000010000013886"}],"endpoint":"http://172.25.1.11:80/epgu-2-5","id":"form_1568af7f-bb3c-4805-b313-183a73a959ab","_state":"present","title":"\u041F\u0440\u0438\u0435\u043C \u044D\u043A\u0437\u0430\u043C\u0435\u043D\u043E\u0432 \u043D\u0430 \u043F\u0440\u0430\u0432\u043E \u0443\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u0430\u043C\u043E\u0445\u043E\u0434\u043D\u044B\u043C\u0438 \u043C\u0430\u0448\u0438\u043D\u0430\u043C\u0438 \u0438 \u0432\u044B\u0434\u0430\u0447\u0430 \u0443\u0434\u043E\u0441\u0442\u043E\u0432\u0435\u0440\u0435\u043D\u0438\u0439 \u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430-\u043C\u0430\u0448\u0438\u043D\u0438\u0441\u0442\u0430 (\u0442\u0440\u0430\u043A\u0442\u043E\u0440\u0438\u0441\u0442\u0430).","address":"http://gw1.volganet.ru:14771/PGU_ModuleWeb/sca/Usl0_001Export","required":{"citizen":{"factAddress":true,"phone":true,"address":true,"birthDate":true,"passport":true}},"user":{"id":"user_7424d9d2-fc9b-411f-802e-ccfdb23ee6d1"}},"success":true}