{"data":{"id":"form_3a18b561-8abd-4bd2-82d1-072eb2ae684e","template":"<sgdh:SGDHeader xmlns:sgdh=\"http://www.bssys.com/SMEV/WS/SGD/2\">\n    <sgdh:Recipient>\n    \t<sgdh:Code>18701000</sgdh:Code>\n\t\t<sgdh:Name>${request.deptTitle}</sgdh:Name>\n\t</sgdh:Recipient>\n\t<sgdh:serviceCode>${request.serviceId}</sgdh:serviceCode>\n</sgdh:SGDHeader>","title":"44366 \u0413\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0443\u0441\u043B\u0443\u0433\u0430 \u043F\u043E \u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438 \u043D\u0430\u0447\u0438\u043D\u0430\u044E\u0449\u0438\u043C \u0441\u0443\u0431\u044A\u0435\u043A\u0442\u0430\u043C \u043C\u0430\u043B\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430, \u0432 \u0442\u043E\u043C \u0447\u0438\u0441\u043B\u0435 \u0438\u043D\u043D\u043E\u0432\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F\u043C","_state":"present","form":{"attributes":[{"appearance":"required","name":"applicantType","variants":["\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C","\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043B\u044C \u0438\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044F","\u042E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043B\u0438\u0446\u043E"],"label":"\u0422\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F","hint":{"type":"string"},"type":"String","script":""},{"element":{"type":"Object"},"appearance":"nonPresent","description":"","name":"powerOfAttorney","label":"\u0414\u043E\u0432\u0435\u0440\u0435\u043D\u043D\u043E\u0441\u0442\u044C","attributes":[{"appearance":"required","name":"powerOfAttorneyName","label":"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430","hint":{"type":"string"},"type":"String","script":""},{"appearance":"normal","name":"powerOfAttorneySeries","label":"\u0421\u0435\u0440\u0438\u044F","hint":{"type":"string"},"type":"String"},{"appearance":"normal","name":"powerOfAttorneyNumber","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440","type":"String"},{"appearance":"required","name":"powerOfAttorneyDate","label":"\u0414\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438","hint":{"type":"date"},"type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"required","name":"powerOfAttorneyNotary","label":"\u041A\u0435\u043C \u0432\u044B\u0434\u0430\u043D\u0430","hint":{"type":"string"},"type":"String"},{"appearance":"normal","name":"powerOfAttorneyExpires","label":"\u0421\u0440\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F","hint":{"type":"date"},"type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"}],"type":"Map","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.applicantType') == \"\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C\")\n{attr.appearance=\"nonPresent\"}\nelse {attr.appearance=\"normal\"}"},{"appearance":"required","name":"Application_system","label":"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u043D\u0430\u043B\u043E\u0433\u043E\u043E\u0431\u043B\u0430\u0436\u0435\u043D\u0438\u044F","hint":{"type":"string"},"type":"String"},{"appearance":"required","description":"\u0423\u043A\u0430\u0437\u044B\u0432\u0430\u0435\u0442\u0441\u044F \u043A\u043E\u0434 \u0441 \u0440\u0430\u0441\u0448\u0438\u0444\u0440\u043E\u0432\u043A\u043E\u0439","name":"Application_okved","label":"\u0412\u0438\u0434 \u0434\u0435\u044F\u0442\u0435\u043B\u044C\u043D\u043E\u0441\u0442\u0438 \u043F\u043E \u041E\u041A\u0412\u042D\u0414","hint":{"type":"string"},"type":"String"},{"appearance":"normal","name":"Application_head","label":"\u0414\u0430\u043D\u043D\u044B\u0435 \u0440\u0443\u043A\u043E\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u044F","attributes":[{"appearance":"required","name":"Application_head_name","label":"\u0424\u0418\u041E","hint":{"type":"string"},"type":"String"},{"appearance":"required","name":"Application_head_post","label":"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C","hint":{"type":"string"},"type":"String"}],"type":"Map"},{"appearance":"required","name":"Application_accountant_name","label":"\u0424\u0418\u041E \u0433\u043B\u0430\u0432\u043D\u043E\u0433\u043E \u0431\u0443\u0445\u0433\u0430\u043B\u0442\u0435\u0440\u0430","hint":{"type":"string"},"type":"String"},{"appearance":"normal","name":"Application_contact","label":"\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u043D\u043E\u0435 \u043B\u0438\u0446\u043E","attributes":[{"appearance":"required","name":"Application_contact_name","label":"\u0424\u0418\u041E","hint":{"type":"string"},"type":"String"},{"appearance":"required","name":"Application_contact_post","hint":{"type":"string"},"label":"\u0414\u043E\u043B\u0436\u043D\u043E\u0441\u0442\u044C","type":"String"}],"type":"Map"},{"appearance":"normal","name":"docPersonalProv","label":"\u041A\u043E\u043F\u0438\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 \u0431\u0443\u0434\u0443\u0442 \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u044B \u043B\u0438\u0447\u043D\u043E","type":"Boolean"},{"min":0,"element":{"attributes":[{"appearance":"normal","description":"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043A\u043E\u043F\u0438\u044F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u0441\u043E\u0431\u043E\u0439 \u043E\u0434\u0438\u043D \u0444\u0430\u0439\u043B \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 PDF, DOC, XLS, XLSX, JPG \u0438\u043B\u0438 ZIP, \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u043E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043E\u0431\u0440\u0430\u0437 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E \u0431\u0443\u043C\u0430\u0436\u043D\u043E\u0433\u043E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430, \u0437\u0430\u0432\u0435\u0440\u0435\u043D\u043D\u043E\u0433\u043E \u043D\u0430\u0434\u043B\u0435\u0436\u0430\u0449\u0438\u043C \u043E\u0431\u0440\u0430\u0437\u043E\u043C \u0438 \u0441\u043D\u0430\u0431\u0436\u0435\u043D\u043D\u043E\u0433\u043E \u0432\u0441\u0435\u043C\u0438 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u043C\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u044F\u043C\u0438 \u0438 \u043F\u0435\u0447\u0430\u0442\u044F\u043C\u0438.","name":"fileDoc","typeCfg":{},"label":"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442","type":"ComplexType","script":"","typeClass":"com.pgg.s1.core.types.FileType"}],"type":"Map"},"appearance":"nonPresent","max":30,"description":"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C\u0443 \u0436\u0435\u043B\u0430\u043D\u0438\u044E \u043F\u0440\u0438\u043B\u043E\u0436\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B, \u0442\u0440\u0435\u0431\u0443\u0435\u043C\u044B\u0435 \u0434\u043B\u044F \u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044F \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0435\u0439 \u0443\u0441\u043B\u0443\u0433\u0438 \u0432 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043D\u044B\u043C \u0440\u0435\u0433\u043B\u0430\u043C\u0435\u043D\u0442\u043E\u043C.\n\u041E\u0431\u044A\u0435\u043C \u0432\u0441\u0435\u0445 \u043F\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043C\u044B\u0445 \u0444\u0430\u0439\u043B\u043E\u0432 \u043D\u0435 \u0434\u043E\u043B\u0436\u0435\u043D \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0442\u044C 5 \u041C\u0431.","name":"applied_documents","label":"\u0421\u041A\u0410\u041D-\u041A\u041E\u041F\u0418\u0418 \u0414\u041E\u041A\u0423\u041C\u0415\u041D\u0422\u041E\u0412","type":"List","script":"if (parent.map.docPersonalProv ==true){\n    attr.appearance=\"nonPresent\"\n}\nelse\n{\n    attr.appearance=\"normal\"\n}"}]},"allowNonVerified":false,"before":{"script":"import com.pgg.portal.FileHelper\nimport com.pgg.s1.core.ClassResolver\nimport com.pgg.s1.core.storage.FileStorage\n//import com.pgg.s1.print.RTFFormat\nimport org.apache.commons.io.IOUtils\n/*---*/\n// \u0444\u043E\u0440\u043C\u0438\u0440\u0443\u0435\u043C \u0442\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F \u043F\u043E \u0428\u0428\ndef u = com.pgg.s1.core.UserResolver.getInstance().whoAmI();\ndef req = request.requestor\nswitch ( req.type ) {\ncase   'citizen'  :\n        if (req.id == \"me\") {\n    \t\ttypeRequestor = 'Fl' \n    \t\tbreak\n        }else if (req.id != \"me\") {\n            typeRequestor = 'Pfl' \n    \t\tbreak    \n        }else {\n            break\n        }\ncase  'businessman':\n\t\tif (req.id == \"me\") {\n    \t\ttypeRequestor = 'Ip' \n    \t\tbreak\n        }else if (req.id != \"me\") {\n            typeRequestor = 'Pip' \n    \t\tbreak    \n        }else {\n            break\n        }\n\t\tbreak\ncase 'organization':\n        typeRequestor = 'Ul'\n        break\n default:\n        typeRequestor = 'UNDEFINE'\n}\n/*---*/\nctx.element = \"PutDocument\"\nctx.tns = \"http://www.red-soft.biz/ncore/dx/ws/smev-25\"\nctx.recipientCode = \"001204341\"\nctx.recipientName = \"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0433\u0430\u0440\u0430\u043D\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\nctx.originatorCode = \"PGU_SYS_1\"\nctx.originatorName = \"\u0420\u041F\u0413\u0423 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\nctx.senderCode = \"PGU_SYS_1\"\nctx.senderName = \"\u0420\u041F\u0413\u0423 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\n//ctx.mustSignXml = false; //\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u044C \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0438\u043D\u0430\n//ctx.mustSignFiles = false;//\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u044C \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u0430\u0440\u0445\u0438\u0432\u0435\nctx.files = [\n    /*\u041F\u0440\u0438\u043C\u0435\u0440 \u043F\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0444\u0430\u0439\u043B\u0430 (data.f1.id) \u0432 \u0430\u0440\u0445\u0438\u0432\u0435*/    /*[group:\"default\",id:request.data.f1.id,name:\"\u0442\u0435\u0441\u0442\"]*/\n];\n/*\u041A\u043E\u0434 req_...xml, \u043D\u043E \u0431\u0435\u0437 \u0441\u0435\u043A\u0446\u0438\u0438 AppliedDocuments - \u043E\u043D\u0430 \u0431\u0443\u0434\u0435\u0442 \u0441\u0444\u043E\u0440\u043C\u0438\u0440\u043E\u0432\u0430\u043D\u0430 \u0430\u0432\u0442\u043E\u043C\u0430\u0442\u0438\u0447\u0435\u0441\u043A\u0438*/\ndef xml_test = \"\";\n/*---*/\ndef xmlClone\n/*---*/\ndef address = \"\";\ndef requestor = request.requestor;\n\ndef data = request.data;\n\ndef now_date = new Date()\n\nnow_date = now_date.format(\"dd.MM.yyyy\");\n\nif (request.requestor.type == 'citizen'){\nif(!request.requestor.data.birthDate) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F'\");\nif(!request.requestor.data.passport?.series) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0421\u0435\u0440\u0438\u044F \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430'\");\nif(!request.requestor.data.passport?.number) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041D\u043E\u043C\u0435\u0440 \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430'\");\nif(!request.requestor.data.passport?.date) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 '\u0414\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430'\");\nif(!request.requestor.data.passport?.dept) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041E\u0440\u0433\u0430\u043D \u0432\u044B\u0434\u0430\u0432\u0448\u0438\u0439 \u043F\u0430\u0441\u043F\u043E\u0440\u0442'\");\nif(!request.requestor.data.address?.index) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u0438\u043D\u0434\u0435\u043A\u0441 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438'\");\nif(!request.requestor.data.address?.region) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0421\u0443\u0431\u044A\u0435\u043A\u0442 \u0420\u0424 \u0430\u0434\u0440\u0435\u0441\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438'\");\nif(!request.requestor.data.snils) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0421\u041D\u0418\u041B\u0421'\");\nif(!request.requestor.data.phone) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0422\u0435\u043B\u0435\u0444\u043E\u043D'\")}\n\nif (request.requestor.type == 'organization'){\nif(!request.requestor.data.address?.index) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u0438\u043D\u0434\u0435\u043A\u0441 \u043C\u0435\u0441\u0442\u043E\u043D\u0430\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u044E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043B\u0438\u0446\u0430'\");\nif(!request.requestor.data.address?.region) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0421\u0443\u0431\u044A\u0435\u043A\u0442 \u0420\u0424 \u043C\u0435\u0441\u0442\u043E\u043D\u0430\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u044E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043B\u0438\u0446\u0430'\");\nif(!request.requestor.data.factAddress?.index) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041F\u043E\u0447\u0442\u043E\u0432\u044B\u0439 \u0438\u043D\u0434\u0435\u043A\u0441 \u0444\u0430\u043A\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043C\u0435\u0441\u0442\u043E\u043D\u0430\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u044E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043B\u0438\u0446\u0430'\");\nif(!request.requestor.data.factAddress?.region) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0421\u0443\u0431\u044A\u0435\u043A\u0442 \u0420\u0424 \u0444\u0430\u043A\u0442\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043C\u0435\u0441\u0442\u043E\u043D\u0430\u0445\u043E\u0436\u0434\u0435\u043D\u0438\u044F \u044E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043B\u0438\u0446\u0430'\");\nif(!request.requestor.data.ogrn) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u041E\u0413\u0420\u041D'\");\nif(!request.requestor.data.inn) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0418\u041D\u041D'\");\nif(!request.requestor.data.phone) throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D '\u0422\u0435\u043B\u0435\u0444\u043E\u043D'\")}\n\nif(com.pgg.s1.core.format.MapHelper.get(request,'data.powerOfAttorney.powerOfAttorneyExpires')){\npowerOfAttorneyExpires = \"\"\", \u0441\u0440\u043E\u043A \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044F  ${request.data.powerOfAttorney.powerOfAttorneyExpires.format(\"dd.MM.yyyy\")}\"\"\";\n}else {\npowerOfAttorneyExpires = \"\"\"\"\"\";}\n\tdef messager=\"\";\nif (typeRequestor == 'Ip'){\n    if (data.applicantType == '\u0418\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u044B\u0439 \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C'){\n\n    messager = \"\"\"\n            <tns:FullTitle>${requestor.data.name.surname?:''} ${requestor.data.name.name?:''} ${requestor.data.name.patronymic?:''}</tns:FullTitle>\n            <tns:OGRN>${requestor.data.ogrnip?:''}</tns:OGRN>\n            <tns:Applicant>${requestor.data.name.surname?:''} ${requestor.data.name.name?:''} ${requestor.data.name.patronymic?:''}</tns:Applicant>\n            <tns:Applicant_data>\u0434\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F: ${requestor.data.birthDate.format(\"dd.MM.yyyy\")}, \u0421\u041D\u0418\u041B\u0421: ${requestor.data.snils?:''}, \u0418\u041D\u041D: ${requestor.data.inn?:''}, \u041E\u0413\u0420\u041D\u0418\u041F: ${requestor.data.ogrnip?:''}</tns:Applicant_data>\n            <tns:Applicant_contact>\u0422\u0435\u043B.: ${requestor.data.phone?:''}; e-mail: ${requestor.data.email?:''}</tns:Applicant_contact>\n            <tns:CertDoc>\u043F\u0430\u0441\u043F\u043E\u0440\u0442: ${requestor.data.passport.series?:''} ${requestor.data.passport.number?:''}, \u0434\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438: ${requestor.data.passport.date.format(\"dd.MM.yyyy\")}, \u0432\u044B\u0434\u0430\u043D: ${requestor.data.passport.dept?:''}</tns:CertDoc> \n                <tns:Represent></tns:Represent>\n                <tns:Repr_certDoc></tns:Repr_certDoc>\n                <tns:Repr_contact></tns:Repr_contact>\n\t\t\t<tns:powerOfAttorney></tns:powerOfAttorney>\n             \n\t\t    <tns:factAddress>${requestor.data.factAddress.index != null ? '\u0438\u043D\u0434\u0435\u043A\u0441 ' + requestor.data.factAddress.index:''}${requestor.data.factAddress.region != null ? ', \u0441\u0443\u0431\u044A\u0435\u043A\u0442 ' + requestor.data.factAddress.region:''}${requestor.data.factAddress.raion != null ? ', \u0440\u0430\u0439\u043E\u043D ' + requestor.data.factAddress.raion:''}${requestor.data.factAddress.city != null ? ', \u0433. ' + requestor.data.factAddress.city:''}${requestor.data.factAddress.town != null ? ', \u043D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442 ' + requestor.data.factAddress.town:''}${requestor.data.factAddress.street != null ? ', \u0443\u043B. ' + requestor.data.factAddress.street:''}${requestor.data.factAddress.house != null ? ', \u0434. ' + requestor.data.factAddress.house:''}${requestor.data.factAddress.building != null ? ', \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 ' + requestor.data.factAddress.building:''}${requestor.data.factAddress.flat != null ? ', \u043A\u0432. ' + requestor.data.factAddress.flat:''}${requestor.data.factAddress.ext?:''}</tns:factAddress>\n\t\t\t<tns:address>${requestor.data.address.index != null ? '\u0438\u043D\u0434\u0435\u043A\u0441 ' + requestor.data.address.index:''}${requestor.data.address.region != null ? ', \u0441\u0443\u0431\u044A\u0435\u043A\u0442 ' + requestor.data.address.region:''}${requestor.data.address.raion != null ? ', \u0440\u0430\u0439\u043E\u043D ' + requestor.data.address.raion:''}${requestor.data.address.city != null ? ', \u0433. ' + requestor.data.address.city:''}${requestor.data.address.town != null ? ', \u043D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442 ' + requestor.data.address.town:''}${requestor.data.address.street != null ? ', \u0443\u043B. ' + requestor.data.address.street:''}${requestor.data.address.house != null ? ', \u0434. ' + requestor.data.address.house:''}${requestor.data.address.building != null ? ', \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 ' + requestor.data.address.building:''}${requestor.data.address.flat != null ? ', \u043A\u0432. ' + requestor.data.address.flat:''}${requestor.data.address.ext?:''}</tns:address>\n\n    \"\"\"\t}else{throw new Exception(\"\u041D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u0435\u0442 '\u0422\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F' \u0441 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u043C \u043D\u0430 \u0432\u043A\u043B\u0430\u0434\u043A\u0435 '\u0417\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044C'\");}\n}\n\nif (typeRequestor == 'Pip'){\n    if (data.applicantType == '\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043B\u044C \u0438\u043D\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044F'){\n    messager = \"\"\"\n            <tns:FullTitle>${requestor.data.name.surname?:''} ${requestor.data.name.name?:''} ${requestor.data.name.patronymic?:''}</tns:FullTitle>\n            <tns:OGRN>${requestor.data.ogrnip?:''}</tns:OGRN>\n            <tns:Applicant>${requestor.data.name.surname?:''} ${requestor.data.name.name?:''} ${requestor.data.name.patronymic?:''}</tns:Applicant>\n            <tns:Applicant_data>\u0434\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F: ${requestor.data.birthDate.format(\"dd.MM.yyyy\")}, \u0421\u041D\u0418\u041B\u0421: ${requestor.data.snils?:''}, \u0418\u041D\u041D: ${requestor.data.inn?:''}, \u041E\u0413\u0420\u041D\u0418\u041F: ${requestor.data.ogrnip?:''}</tns:Applicant_data>\n            <tns:Applicant_contact>\u0422\u0435\u043B.: ${requestor.data.phone?:''}; e-mail: ${requestor.data.email?:''}</tns:Applicant_contact>\n            <tns:CertDoc>\u043F\u0430\u0441\u043F\u043E\u0440\u0442: ${requestor.data.passport.series?:''} ${requestor.data.passport.number?:''}, \u0434\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438: ${requestor.data.passport.date.format(\"dd.MM.yyyy\")}, \u0432\u044B\u0434\u0430\u043D: ${requestor.data.passport.dept?:''}</tns:CertDoc> \n                <tns:Represent>${u.name.surname?:''} ${u.name.name?:''} ${u.name.patronymic?:''}</tns:Represent>\n                <tns:Repr_certDoc>\u041F\u0430\u0441\u043F\u043E\u0440\u0442 ${u.passport.series?:''} ${u.passport.number?:''}, \u0434\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438: ${u.passport.date.format(\"dd.MM.yyyy\")}, \u0432\u044B\u0434\u0430\u043D: ${u.passport.dept?:''}</tns:Repr_certDoc>\n                <tns:Repr_contact>\u0442\u0435\u043B.: ${u.phone?:''}; e-mail: ${u.email?:''}</tns:Repr_contact>\n\t\t\t<tns:powerOfAttorney>${request.data.powerOfAttorney.powerOfAttorneyName?:''}${request.data.powerOfAttorney.powerOfAttorneySeries != null ? ' \u0441\u0435\u0440\u0438\u044F ' + request.data.powerOfAttorney.powerOfAttorneySeries:''}${request.data.powerOfAttorney.powerOfAttorneyNumber != null ? ' \u2116' + request.data.powerOfAttorney.powerOfAttorneyNumber:''}, \u0434\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 ${request.data.powerOfAttorney.powerOfAttorneyDate.format(\"dd.MM.yyyy\")}${request.data.powerOfAttorney.powerOfAttorneyNotary != null ? ', \u0432\u044B\u0434\u0430\u043D ' + request.data.powerOfAttorney.powerOfAttorneyNotary:''}${request.data.powerOfAttorney.powerOfAttorneyExpires != null?powerOfAttorneyExpires:''}</tns:powerOfAttorney>\n\t\t    <tns:factAddress>${requestor.data.factAddress.index != null ? '\u0438\u043D\u0434\u0435\u043A\u0441 ' + requestor.data.factAddress.index:''}${requestor.data.factAddress.region != null ? ', \u0441\u0443\u0431\u044A\u0435\u043A\u0442 ' + requestor.data.factAddress.region:''}${requestor.data.factAddress.raion != null ? ', \u0440\u0430\u0439\u043E\u043D ' + requestor.data.factAddress.raion:''}${requestor.data.factAddress.city != null ? ', \u0433. ' + requestor.data.factAddress.city:''}${requestor.data.factAddress.town != null ? ', \u043D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442 ' + requestor.data.factAddress.town:''}${requestor.data.factAddress.street != null ? ', \u0443\u043B. ' + requestor.data.factAddress.street:''}${requestor.data.factAddress.house != null ? ', \u0434. ' + requestor.data.factAddress.house:''}${requestor.data.factAddress.building != null ? ', \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 ' + requestor.data.factAddress.building:''}${requestor.data.factAddress.flat != null ? ', \u043A\u0432. ' + requestor.data.factAddress.flat:''}${requestor.data.factAddress.ext?:''}</tns:factAddress>\n\t\t\t<tns:address>${requestor.data.address.index != null ? '\u0438\u043D\u0434\u0435\u043A\u0441 ' + requestor.data.address.index:''}${requestor.data.address.region != null ? ', \u0441\u0443\u0431\u044A\u0435\u043A\u0442 ' + requestor.data.address.region:''}${requestor.data.address.raion != null ? ', \u0440\u0430\u0439\u043E\u043D ' + requestor.data.address.raion:''}${requestor.data.address.city != null ? ', \u0433. ' + requestor.data.address.city:''}${requestor.data.address.town != null ? ', \u043D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442 ' + requestor.data.address.town:''}${requestor.data.address.street != null ? ', \u0443\u043B. ' + requestor.data.address.street:''}${requestor.data.address.house != null ? ', \u0434. ' + requestor.data.address.house:''}${requestor.data.address.building != null ? ', \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 ' + requestor.data.address.building:''}${requestor.data.address.flat != null ? ', \u043A\u0432. ' + requestor.data.address.flat:''}${requestor.data.address.ext?:''}</tns:address>\n\n    \"\"\"\n}else{throw new Exception(\"\u041D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u0435\u0442 '\u0422\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F' \u0441 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u043C \u043D\u0430 \u0432\u043A\u043B\u0430\u0434\u043A\u0435 '\u0417\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044C'\");}\n}\n\nif (typeRequestor == 'Ul'){\n    if (data.applicantType == '\u042E\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043B\u0438\u0446\u043E'){\n    messager = \"\"\"\n            <tns:FullTitle>${requestor.data.fullTitle?:''}</tns:FullTitle>\n            <tns:OGRN>${requestor.data.ogrn?:''}</tns:OGRN>\n            <tns:Applicant>${requestor.data.form?:''} ${requestor.data.fullTitle?:''}</tns:Applicant>\n            <tns:Applicant_data>\u0418\u041D\u041D ${requestor.data.inn?:''} \u041E\u0413\u0420\u041D ${requestor.data.ogrn?:''}</tns:Applicant_data>\n            <tns:Applicant_contact>\u0422\u0435\u043B.: ${requestor.data.phone?:''}${requestor.data.email?'; e-mail: ' + requestor.data.email:''}</tns:Applicant_contact>\n                <tns:Represent>${u.name.surname?:''} ${u.name.name?:''} ${u.name.patronymic?:''}</tns:Represent>\n                <tns:Repr_certDoc>\u043F\u0430\u0441\u043F\u043E\u0440\u0442 \u0441\u0435\u0440\u0438\u044F ${u.passport.series?:''} \u043D\u043E\u043C\u0435\u0440 ${u.passport.number?:''} \u0432\u044B\u0434\u0430\u043D ${u.passport.date.format(\"dd.MM.yyyy\")} ${u.passport.dept?:''}</tns:Repr_certDoc>\n                <tns:Repr_contact>\u0442\u0435\u043B.: ${u.phone?:''}; e-mail: ${u.email?:''}</tns:Repr_contact>\n\t\t\t<tns:powerOfAttorney>${request.data.powerOfAttorney.powerOfAttorneyName?:''}${request.data.powerOfAttorney.powerOfAttorneySeries != null ? ' \u0441\u0435\u0440\u0438\u044F ' + request.data.powerOfAttorney.powerOfAttorneySeries:''}${request.data.powerOfAttorney.powerOfAttorneyNumber != null ? ' \u2116' + request.data.powerOfAttorney.powerOfAttorneyNumber:''}, \u0434\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 ${request.data.powerOfAttorney.powerOfAttorneyDate.format(\"dd.MM.yyyy\")}${request.data.powerOfAttorney.powerOfAttorneyNotary != '' ? ', \u0432\u044B\u0434\u0430\u043D ' + request.data.powerOfAttorney.powerOfAttorneyNotary:''}${request.data.powerOfAttorney.powerOfAttorneyExpires != null? powerOfAttorneyExpires:''}</tns:powerOfAttorney>\n            <tns:factAddress>${requestor.data.factAddress.index != null ? '\u0438\u043D\u0434\u0435\u043A\u0441 ' + requestor.data.factAddress.index:''}${requestor.data.factAddress.region != null ? ', \u0441\u0443\u0431\u044A\u0435\u043A\u0442 ' + requestor.data.factAddress.region:''}${requestor.data.factAddress.raion != null ? ', \u0440\u0430\u0439\u043E\u043D ' + requestor.data.factAddress.raion:''}${requestor.data.factAddress.city != null ? ', \u0433. ' + requestor.data.factAddress.city:''}${requestor.data.factAddress.town != null ? ', \u043D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442 ' + requestor.data.factAddress.town:''}${requestor.data.factAddress.street != null ? ', \u0443\u043B. ' + requestor.data.factAddress.street:''}${requestor.data.factAddress.house != null ? ', \u0434. ' + requestor.data.factAddress.house:''}${requestor.data.factAddress.building != null ? ', \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 ' + requestor.data.factAddress.building:''}${requestor.data.factAddress.flat != null ? ', \u043A\u0432. ' + requestor.data.factAddress.flat:''}${requestor.data.factAddress.ext?:''}</tns:factAddress>\n\t\t\t<tns:address>${requestor.data.address.index != null ? '\u0438\u043D\u0434\u0435\u043A\u0441 ' + requestor.data.address.index:''}${requestor.data.address.region != null ? ', \u0441\u0443\u0431\u044A\u0435\u043A\u0442 ' + requestor.data.address.region:''}${requestor.data.address.raion != null ? ', \u0440\u0430\u0439\u043E\u043D ' + requestor.data.address.raion:''}${requestor.data.address.city != null ? ', \u0433. ' + requestor.data.address.city:''}${requestor.data.address.town != null ? ', \u043D\u0430\u0441. \u043F\u0443\u043D\u043A\u0442 ' + requestor.data.address.town:''}${requestor.data.address.street != null ? ', \u0443\u043B. ' + requestor.data.address.street:''}${requestor.data.address.house != null ? ', \u0434. ' + requestor.data.address.house:''}${requestor.data.address.building != null ? ', \u0441\u0442\u0440\u043E\u0435\u043D\u0438\u0435 ' + requestor.data.address.building:''}${requestor.data.address.flat != null ? ', \u043A\u0432. ' + requestor.data.address.flat:''}${requestor.data.address.ext?:''}</tns:address>\n\n    \"\"\"\n}else{throw new Exception(\"\u041D\u0435 \u0441\u043E\u0432\u043F\u0430\u0434\u0430\u0435\u0442 '\u0422\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F' \u0441 \u0443\u043A\u0430\u0437\u0430\u043D\u043D\u044B\u043C \u043D\u0430 \u0432\u043A\u043B\u0430\u0434\u043A\u0435 '\u0417\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044C'\");}\n}\ndef contentdata = \"\";\ncontentdata = \"\"\"\n    <tns:OKTMO>18701000</tns:OKTMO>\n    <tns:Application_system>${request.data.Application_system?:''}</tns:Application_system>\n    <tns:Application_okved>${request.data.Application_okved?:''}</tns:Application_okved>\n    <tns:Application_head_name>${request.data.Application_head.Application_head_name?:''}</tns:Application_head_name>\n    <tns:Application_head_post>${request.data.Application_head.Application_head_post?:''}</tns:Application_head_post>\n    <tns:Application_accountant_name>${request.data.Application_accountant_name?:''}</tns:Application_accountant_name>\n    <tns:Application_contact_name>${request.data.Application_contact.Application_contact_name?:''}</tns:Application_contact_name>\n    <tns:Application_contact_post>${request.data.Application_contact.Application_contact_post?:''}</tns:Application_contact_post>\n\"\"\"\n\nctx.request_xml = \"\"\"\n    <fed:Data xmlns:fed=\"http://smev.gosuslugi.ru/request/fed/rev120528\" >\n    <fed:FormData>\n    <tns:IQEpguVlgUsl044366 xmlns:tns=\"http://www.red-soft.biz/schemas/shgate/common/2011/0.5\">\n\t<tns:nameDepartment>${request.deptTitle}</tns:nameDepartment>${messager}${contentdata}</tns:IQEpguVlgUsl044366>\n    </fed:FormData></fed:Data>\n\"\"\";\n\ndef size = 0;\n\nif (request.data.docPersonalProv == true)\n    {\n        ctx.mustSignXml = false;\n        ctx.mustSignFiles = false;\n    }\nelse{\n        ctx.mustSignXml = false;\n        ctx.mustSignFiles = false;\n        for(def i=0; i < request.data.applied_documents.fileDoc.size(); i++)\n        {\n            ctx.files.add([group:\"default\",id:request.data.applied_documents[i].fileDoc.id,name:\"\"])\n            size = size + request.data.applied_documents[i].fileDoc.size;\n        }\n        if (size > 5000000){\n            throw new Exception(\"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043F\u0440\u0438\u043A\u0440\u0435\u043F\u043B\u044F\u0435\u043C\u044B\u0445 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 (\"+size+\" \u0431\u0430\u0439\u0442) \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0435\u0442 5\u041C\u0431.\");\n        }\n    }"},"format":"com.pgg.interdept.format.MR255Format","required":{"citizen":{"factAddress":true,"phone":true,"email":true},"organization":{"factAddress":true,"inn":true,"address":true,"ogrn":true,"contacts":true},"businessman":{"inn":true,"sex":false,"address":true,"ogrnip":true,"snils":true,"birthDate":true,"passport":true}},"date":"/Date(1413802773215)/","user":{"id":"user_7424d9d2-fc9b-411f-802e-ccfdb23ee6d1"},"procedures":[{"serviceTitle":"\u0413\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0443\u0441\u043B\u0443\u0433\u0430 \u043F\u043E \u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438 \u043D\u0430\u0447\u0438\u043D\u0430\u044E\u0449\u0438\u043C \u0441\u0443\u0431\u044A\u0435\u043A\u0442\u0430\u043C \u043C\u0430\u043B\u043E\u0433\u043E  \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430, \u0432 \u0442\u043E\u043C \u0447\u0438\u0441\u043B\u0435 \u0438\u043D\u043D\u043E\u0432\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F\u043C","serviceId":"3400000010000044366","procedureTitle":"\u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0443\u0441\u043B\u0443\u0433\u0430 \u043F\u043E \u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044E \u043F\u043E\u0434\u0434\u0435\u0440\u0436\u043A\u0438 \u043D\u0430\u0447\u0438\u043D\u0430\u044E\u0449\u0438\u043C \u0441\u0443\u0431\u044A\u0435\u043A\u0442\u0430\u043C \u043C\u0430\u043B\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043F\u0440\u0438\u043D\u0438\u043C\u0430\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430, \u0432 \u0442\u043E\u043C \u0447\u0438\u0441\u043B\u0435 \u0438\u043D\u043D\u043E\u0432\u0430\u0446\u0438\u043E\u043D\u043D\u044B\u043C \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u044F\u043C. ","deptTitle":"\u041C\u0438\u043D\u0438\u0441\u0442\u0435\u0440\u0441\u0442\u0432\u043E \u044D\u043A\u043E\u043D\u043E\u043C\u0438\u043A\u0438, \u0432\u043D\u0435\u0448\u043D\u0435\u044D\u043A\u043E\u043D\u043E\u043C\u0438\u0447\u0435\u0441\u043A\u0438\u0445 \u0441\u0432\u044F\u0437\u0435\u0439 \u0438 \u0438\u043D\u0432\u0435\u0441\u0442\u0438\u0446\u0438\u0439 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438","deptId":"3400000010000000093","procedureId":"3400000010000052981"}],"endpoint":"http://172.25.1.11:80/epgu-2-5"},"success":true}