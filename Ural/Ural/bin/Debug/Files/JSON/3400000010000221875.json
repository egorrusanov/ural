{"data":{"template":"<sgdh:SGDHeader xmlns:sgdh=\"http://www.bssys.com/SMEV/WS/SGD/2\">\n    <sgdh:Recipient>\n    \t<sgdh:Code>${request.deptId}</sgdh:Code>\n\t\t<sgdh:Name>${request.deptTitle}</sgdh:Name>\n\t</sgdh:Recipient>\n\t<sgdh:serviceCode>${request.serviceId}</sgdh:serviceCode>\n</sgdh:SGDHeader>","form":{"root":true,"attributes":[{"errorMessage":"Cannot get property 'bride_maritalstatus_maritalstatustype' on null object","errorClass":"java.lang.NullPointerException","appearance":"required","error":true,"name":"who_is","typeCfg":{"registry":"simpleDict","code":"remoteDict_6f045801-3af9-4956-99a9-85fd966dc5e7"},"variants":["\u0416\u0435\u043D\u0438\u0445","\u041D\u0435\u0432\u0435\u0441\u0442\u0430"],"label":"\u0417\u0430\u044F\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u0434\u0430\u0435\u0442","script":"","typeClass":"com.pgg.portal.types.RemoteDictType","type":"String"},{"appearance":"required","name":"pair","label":"\u0414\u0410\u041D\u041D\u042B\u0415 ","attributes":[{"appearance":"required","name":"surname","variants":[],"hint":{"type":"string"},"label":"\u0424\u0430\u043C\u0438\u043B\u0438\u044F","type":"String","script":"","validate":""},{"appearance":"required","name":"name","hint":{"type":"string"},"label":"\u0418\u043C\u044F","type":"String","validate":""},{"appearance":"normal","name":"patronymic","hint":{"type":"string"},"label":"\u041E\u0442\u0447\u0435\u0441\u0442\u0432\u043E","type":"String","validate":""},{"appearance":"normal","name":"snils","hint":{"mask":"999-999-999 99","type":"string"},"label":"\u0421\u041D\u0418\u041B\u0421","type":"String"},{"appearance":"required","name":"birthday","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"normal","name":"placeofbirth","hint":{"type":"string"},"label":"\u041C\u0435\u0441\u0442\u043E \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F","type":"String"},{"appearance":"required","name":"document","hint":{"type":"string"},"label":"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442, \u0443\u0434\u043E\u0441\u0442\u043E\u0432\u0435\u0440\u044F\u044E\u0449\u0438\u0439 \u043B\u0438\u0447\u043D\u043E\u0441\u0442\u044C","attributes":[{"appearance":"required","name":"type","typeCfg":{"code":"remoteDict_65837f0b-610c-457f-9d4c-9e4bafadf4fb"},"label":"\u041D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430","typeClass":"com.pgg.portal.types.RemoteDictType","type":"ComplexType","script":""},{"appearance":"required","name":"series","hint":{"type":"string"},"label":"\u0421\u0435\u0440\u0438\u044F","type":"String"},{"appearance":"required","name":"number","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440","type":"String"},{"appearance":"required","name":"date","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"required","name":"department","hint":{"type":"string"},"label":"\u041A\u0435\u043C \u0432\u044B\u0434\u0430\u043D","type":"String"},{"appearance":"normal","name":"departmentcode","hint":{"type":"string"},"label":"\u041A\u043E\u0434 \u043F\u043E\u0434\u0440\u0430\u0437\u0434\u0435\u043B\u0435\u043D\u0438\u044F","type":"String"},{"appearance":"normal","name":"notes","hint":{"type":"string"},"label":"\u041E\u0441\u043E\u0431\u044B\u0435 \u043E\u0442\u043C\u0435\u0442\u043A\u0438","script":"","type":"String"},{"appearance":"required","name":"address","typeCfg":{},"label":"\u0410\u0434\u0440\u0435\u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438","typeClass":"com.pgg.portal.types.AddressType","type":"ComplexType"}],"script":"","type":"Map"}],"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.who_is','').contains('\u0416\u0435\u043D\u0438\u0445'))\r\n{     attr.label = \"\u0414\u0430\u043D\u043D\u044B\u0435 \u043D\u0435\u0432\u0435\u0441\u0442\u044B\"\r\n}else\r\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.who_is','').contains('\u041D\u0435\u0432\u0435\u0441\u0442\u0430'))\r\n{ attr.label = \"\u0414\u0430\u043D\u043D\u044B\u0435 \u0436\u0435\u043D\u0438\u0445\u0430\"\r\n}else\r\n{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"Map","validate":""},{"appearance":"required","name":"fiance_maritalstatus","label":"\u0421\u0435\u043C\u0435\u0439\u043D\u043E\u0435 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u0436\u0435\u043D\u0438\u0445\u0430","attributes":[{"appearance":"required","name":"fiance_maritalstatus_maritalstatustype","typeCfg":{"registry":"simpleDict","code":"remoteDict_066b742c-9306-4b68-bd49-7aa363012b96"},"variants":["\u0412 \u0431\u0440\u0430\u043A\u0435 \u043D\u0435 \u0441\u043E\u0441\u0442\u043E\u044F\u043B(\u0430)","\u0412\u0434\u043E\u0432(\u0430)","\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043D(\u0430)"],"label":"\u0421\u0435\u043C\u0435\u0439\u043D\u043E\u0435 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435","script":"","type":"String","typeClass":"com.pgg.portal.types.RemoteDictType"},{"appearance":"nonPresent","name":"fiance_maritalstatus_country","variants":["\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F","\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430"],"hint":{"type":"string"},"label":"\u0421\u0442\u0440\u0430\u043D\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430, \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E\u0449\u0435\u0433\u043E \u0441\u0435\u043C\u0435\u0439\u043D\u043E\u0435 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.fiance_maritalstatus_maritalstatustype','').contains('\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043D'))\n{ attr.appearance=\"required\" \n}else\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.fiance_maritalstatus_maritalstatustype','').contains('\u0412\u0434\u043E\u0432'))\n{ attr.appearance=\"required\" \n}else\n{\n    attr.appearance = \"nonPresent\"\n}","type":"String"},{"appearance":"nonPresent","name":"divorced","label":"\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430 \u043E \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u0438 \u0431\u0440\u0430\u043A\u0430","attributes":[{"appearance":"required","name":"date","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u044F \u0431\u0440\u0430\u043A\u0430","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"nonPresent","name":"number_act","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043F\u0438\u0441\u0438 \u0430\u043A\u0442\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0441\u043A\u043E\u0433\u043E \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"fiance_numberdivorce","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043F\u0438\u0441\u0438 \u043E \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u0438 \u0431\u0440\u0430\u043A\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"series","hint":{"type":"string"},"label":"\u0421\u0435\u0440\u0438\u044F \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"number","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"required","name":"place","hint":{"type":"string"},"label":"\u041C\u0435\u0441\u0442\u043E \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u044F \u0431\u0440\u0430\u043A\u0430","type":"String"},{"appearance":"nonPresent","name":"fiance_docforeign_country","hint":{"type":"string"},"label":"\u0421\u0442\u0440\u0430\u043D\u0430, \u0433\u0434\u0435 \u0432\u044B\u0434\u0430\u043D \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"fiance_otherinfo","hint":{"type":"string"},"label":"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"normal\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"}],"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.fiance_maritalstatus_maritalstatustype','').contains('\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043D'))\n{ attr.appearance=\"required\" \n}else{\n    attr.appearance = \"nonPresent\"\n}","type":"Map"},{"appearance":"nonPresent","name":"death","label":"\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430 \u043E \u0441\u043C\u0435\u0440\u0442\u0438","attributes":[{"appearance":"required","name":"date","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0441\u043C\u0435\u0440\u0442\u0438","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"required","name":"number_act","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043F\u0438\u0441\u0438 \u0430\u043A\u0442\u0430 \u043E \u0441\u043C\u0435\u0440\u0442\u0438","script":"","type":"String"},{"appearance":"nonPresent","name":"fiance_docdeat_country","hint":{"type":"string"},"label":"\u0421\u0442\u0440\u0430\u043D\u0430, \u0433\u0434\u0435 \u0432\u044B\u0434\u0430\u043D \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"series","hint":{"type":"string"},"label":"\u0421\u0435\u0440\u0438\u044F \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"number","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"required","name":"place","hint":{"type":"string"},"label":"\u041C\u0435\u0441\u0442\u043E \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0430\u043A\u0442\u0430 \u043E \u0441\u043C\u0435\u0440\u0442\u0438","type":"String"},{"appearance":"nonPresent","name":"fiance_docdeat_otherInfo","hint":{"type":"string"},"label":"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.fiance_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"normal\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}\r\n","type":"String"}],"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.fiance_maritalstatus_maritalstatustype','').contains('\u0412\u0434\u043E\u0432'))\n{ attr.appearance=\"required\" \n}else{\n    attr.appearance = \"nonPresent\"\n}","type":"Map"}],"script":"","type":"Map"},{"appearance":"required","name":"bride_maritalstatus","label":"\u0421\u0435\u043C\u0435\u0439\u043D\u043E\u0435 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435 \u043D\u0435\u0432\u0435\u0441\u0442\u044B","attributes":[{"appearance":"required","name":"bride_maritalstatus_maritalstatustype","typeCfg":{"registry":"simpleDict","code":"remoteDict_066b742c-9306-4b68-bd49-7aa363012b96"},"variants":["\u0412 \u0431\u0440\u0430\u043A\u0435 \u043D\u0435 \u0441\u043E\u0441\u0442\u043E\u044F\u043B(\u0430)","\u0412\u0434\u043E\u0432(\u0430)","\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043D(\u0430)"],"label":"\u0421\u0435\u043C\u0435\u0439\u043D\u043E\u0435 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435","script":"","type":"String","typeClass":"com.pgg.portal.types.RemoteDictType"},{"appearance":"nonPresent","name":"bride_maritalstatus_country","variants":["\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F","\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430"],"label":"\u0421\u0442\u0440\u0430\u043D\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430, \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u044E\u0449\u0435\u0433\u043E \u0441\u0435\u043C\u0435\u0439\u043D\u043E\u0435 \u043F\u043E\u043B\u043E\u0436\u0435\u043D\u0438\u0435","hint":{"type":"string"},"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.bride_maritalstatus_maritalstatustype','').contains('\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043D'))\n{ attr.appearance=\"required\" \n}else\nif (com.pgg.s1.core.format.MapHelper.get(parent,'map.bride_maritalstatus_maritalstatustype','').contains('\u0412\u0434\u043E\u0432'))\n{ attr.appearance=\"required\" \n}else\n{\n    attr.appearance = \"nonPresent\"\n}","type":"String"},{"appearance":"nonPresent","name":"divorced","label":"\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430 \u043E \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u0438 \u0431\u0440\u0430\u043A\u0430","attributes":[{"appearance":"required","name":"date","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u044F \u0431\u0440\u0430\u043A\u0430","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"nonPresent","name":"number_act","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043F\u0438\u0441\u0438 \u0430\u043A\u0442\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0441\u043A\u043E\u0433\u043E \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"bride_numberdivorce","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043F\u0438\u0441\u0438 \u043E \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u0438 \u0431\u0440\u0430\u043A\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"series","hint":{"type":"string"},"label":"\u0421\u0435\u0440\u0438\u044F \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"number","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"required","name":"place","hint":{"type":"string"},"label":"\u041C\u0435\u0441\u0442\u043E \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0440\u0430\u0441\u0442\u043E\u0440\u0436\u0435\u043D\u0438\u044F \u0431\u0440\u0430\u043A\u0430","type":"String"},{"appearance":"nonPresent","name":"bride_docforeign_country","label":"\u0421\u0442\u0440\u0430\u043D\u0430, \u0433\u0434\u0435 \u0432\u044B\u0434\u0430\u043D \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442","hint":{"type":"string"},"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"bride_otherinfo","hint":{"type":"string"},"label":"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"normal\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"}],"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.bride_maritalstatus_maritalstatustype','').contains('\u0420\u0430\u0437\u0432\u0435\u0434\u0435\u043D'))\n{ attr.appearance=\"required\" \n}else{\n    attr.appearance = \"nonPresent\"\n}","type":"Map"},{"appearance":"nonPresent","name":"death","label":"\u0414\u0430\u043D\u043D\u044B\u0435 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430 \u043E \u0441\u043C\u0435\u0440\u0442\u0438","attributes":[{"appearance":"required","name":"date","hint":{"type":"date"},"label":"\u0414\u0430\u0442\u0430 \u0441\u043C\u0435\u0440\u0442\u0438","type":"Date","script":"if (data.getClass() == String) throw new Exception(\"\u0418\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u0439\u0442\u0435 '\u041A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C' \u0434\u043B\u044F \u0432\u0432\u043E\u0434\u0430 \u0434\u0430\u0442\u044B\")"},{"appearance":"required","name":"number_act","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0437\u0430\u043F\u0438\u0441\u0438 \u0430\u043A\u0442\u0430 \u043E \u0441\u043C\u0435\u0440\u0442\u0438","type":"String"},{"appearance":"nonPresent","name":"bride_docdeat_country","hint":{"type":"string"},"label":"\u0421\u0442\u0440\u0430\u043D\u0430, \u0433\u0434\u0435 \u0432\u044B\u0434\u0430\u043D \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"series","hint":{"type":"string"},"label":"\u0421\u0435\u0440\u0438\u044F \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"nonPresent","name":"number","hint":{"type":"string"},"label":"\u041D\u043E\u043C\u0435\u0440 \u0433\u0435\u0440\u0431\u043E\u0432\u043E\u0433\u043E \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0420\u043E\u0441\u0441\u0438\u0439\u0441\u043A\u0430\u044F \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044F'))\r\n{ attr.appearance=\"required\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"},{"appearance":"required","name":"place","hint":{"type":"string"},"label":"\u041C\u0435\u0441\u0442\u043E \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0430\u043A\u0442\u0430 \u043E \u0441\u043C\u0435\u0440\u0442\u0438","type":"String"},{"appearance":"nonPresent","name":"bride_docdeat_otherInfo","hint":{"type":"string"},"label":"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435","script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'parent.map.bride_maritalstatus_country','').contains('\u0414\u0440\u0443\u0433\u0430\u044F \u0441\u0442\u0440\u0430\u043D\u0430'))\r\n{ attr.appearance=\"normal\" \r\n}else{\r\n    attr.appearance = \"nonPresent\"\r\n}","type":"String"}],"script":"if (com.pgg.s1.core.format.MapHelper.get(parent,'map.bride_maritalstatus_maritalstatustype','').contains('\u0412\u0434\u043E\u0432'))\n{ attr.appearance=\"required\" \n}else{\n    attr.appearance = \"nonPresent\"\n}","type":"Map"}],"script":"","type":"Map"},{"appearance":"normal","name":"registry","label":"\u0412\u042B\u0411\u041E\u0420 \u0417\u0410\u0413\u0421","attributes":[{"appearance":"required","name":"office","typeCfg":{"code":"remoteDict_9839c1d6-024f-4b1e-8e9c-1d1c283396e7"},"label":"\u0417\u0410\u0413\u0421","script":"","type":"ComplexType","typeClass":"com.pgg.portal.types.RemoteDictType"},{"appearance":"nonPresent","name":"date","typeCfg":{"registry":"org_schedule"},"label":"\u0414\u0430\u0442\u0430, \u0432\u0440\u0435\u043C\u044F \u0431\u0440\u0430\u043A\u043E\u0441\u043E\u0447\u0435\u0442\u0430\u043D\u0438\u044F","type":"ComplexType","typeClass":"com.pgg.s1.registry.JoinType","script":"def org = com.pgg.s1.core.format.MapHelper.get(parent,'map.office.code');\nif(org){\n    attr.appearance = \"required\";\n    attr.typeCfg.organization = org;\n    def list = [];\n    com.pgg.s1.registry.RegistryDescriptor.getInstance().getRegistry(\"org_question\")\n        .list(list,\n        com.pgg.s1.core.format.MapHelper.fromWire([name:\"/RegexI(\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u0431\u0440\u0430\u043A\u0430)/\",\"organization.id\":org]),\n        [:],[:],0,1);\n    if(list.size()>0)\n        attr.typeCfg.question = list[0].id;\n        \n}"},{"appearance":"nonPresent","name":"validate","typeCfg":{"registry":"org_schedule"},"label":"\u0414\u0430\u0442\u0430, \u0432\u0440\u0435\u043C\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0437\u0430\u043F\u0438\u0441\u0438","type":"ComplexType","typeClass":"com.pgg.s1.registry.JoinType","script":"def org = com.pgg.s1.core.format.MapHelper.get(parent,'map.office.code');\r\ndef dt = com.pgg.s1.core.format.MapHelper.get(parent,'map.date.id');\r\nif(org && dt){\r\n    attr.appearance = \"required\";\r\n    attr.typeCfg.organization = org;\r\n    def list = [];\r\n    com.pgg.s1.registry.RegistryDescriptor.getInstance().getRegistry(\"org_question\")\r\n        .list(list,\r\n        com.pgg.s1.core.format.MapHelper.fromWire([name:\"/RegexI(\u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u0435)/\",\"organization.id\":org]),\r\n        [:],[:],0,1);\r\n    if(list.size()>0)\r\n        attr.typeCfg.question = list[0].id;\r\n        \r\n    dt = com.pgg.s1.registry.RegistryDescriptor.getInstance().getRegistry(\"org_schedule\")\r\n        .get(dt);\r\n    attr.typeCfg.start = new Date(new Date().getTime()+(7*24*3600*1000))\r\n    attr.typeCfg.finish = new Date(new Date().getTime()+(14*24*3600*1000))\r\n}"}],"type":"Map"},{"appearance":"normal","name":"doc_notification","label":"\u041A\u043E\u043F\u0438\u0438 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 \u0431\u0443\u0434\u0443\u0442 \u043F\u0440\u0435\u0434\u043E\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u044B \u043B\u0438\u0447\u043D\u043E","type":"Boolean"},{"min":0,"element":{"attributes":[{"appearance":"normal","description":"\u042D\u043B\u0435\u043A\u0442\u0440\u043E\u043D\u043D\u0430\u044F \u043A\u043E\u043F\u0438\u044F \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430 \u0434\u043E\u043B\u0436\u043D\u0430 \u043F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u044F\u0442\u044C \u0441\u043E\u0431\u043E\u0439 \u043E\u0434\u0438\u043D \u0444\u0430\u0439\u043B \u0432 \u0444\u043E\u0440\u043C\u0430\u0442\u0435 PDF, DOC, XLS, XLSX, JPG \u0438\u043B\u0438 ZIP, \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0439 \u043E\u0442\u0441\u043A\u0430\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0439 \u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043A\u0438\u0439 \u043E\u0431\u0440\u0430\u0437 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0449\u0435\u0433\u043E \u0431\u0443\u043C\u0430\u0436\u043D\u043E\u0433\u043E \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u0430, \u0437\u0430\u0432\u0435\u0440\u0435\u043D\u043D\u043E\u0433\u043E \u043D\u0430\u0434\u043B\u0435\u0436\u0430\u0449\u0438\u043C \u043E\u0431\u0440\u0430\u0437\u043E\u043C \u0438 \u0441\u043D\u0430\u0431\u0436\u0435\u043D\u043D\u043E\u0433\u043E \u0432\u0441\u0435\u043C\u0438 \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u043C\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u044F\u043C\u0438 \u0438 \u043F\u0435\u0447\u0430\u0442\u044F\u043C\u0438.","name":"load_doc_1","typeCfg":{},"label":"\u0414\u043E\u043A\u0443\u043C\u0435\u043D\u0442","typeClass":"com.pgg.s1.core.types.FileType","type":"ComplexType","script":""}],"type":"Map"},"max":20,"appearance":"normal","description":"\u0412\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E \u0441\u043E\u0431\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u043C\u0443 \u0436\u0435\u043B\u0430\u043D\u0438\u044E \u043F\u0440\u0438\u043B\u043E\u0436\u0438\u0442\u044C \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u044B, \u0442\u0440\u0435\u0431\u0443\u0435\u043C\u044B\u0435 \u0434\u043B\u044F \u043E\u043A\u0430\u0437\u0430\u043D\u0438\u044F \u043D\u0430\u0441\u0442\u043E\u044F\u0449\u0435\u0439 \u0443\u0441\u043B\u0443\u0433\u0438 \u0432 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u0430\u0434\u043C\u0438\u043D\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043D\u044B\u043C \u0440\u0435\u0433\u043B\u0430\u043C\u0435\u043D\u0442\u043E\u043C.\n\u041E\u0431\u044A\u0435\u043C \u0432\u0441\u0435\u0445 \u043F\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0435\u043C\u044B\u0445 \u0444\u0430\u0439\u043B\u043E\u0432 \u043D\u0435 \u0434\u043E\u043B\u0436\u0435\u043D \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0442\u044C 5 \u041C\u0431.","name":"applied_documents","label":"\u041F\u0420\u0418\u041B\u0410\u0413\u0410\u0415\u041C\u042B\u0415 \u0414\u041E\u041A\u0423\u041C\u0415\u041D\u0422\u042B","script":"if (parent.map.doc_notification ==true){\r\n    attr.appearance=\"nonPresent\"\r\n}\r\nelse\r\n{\r\n    attr.appearance=\"normal\"\r\n}","type":"List"}]},"allowNonVerified":true,"before":{"script":"import com.pgg.portal.FileHelper\r\nimport com.pgg.s1.core.ClassResolver\r\nimport com.pgg.s1.core.storage.FileStorage\r\nimport org.apache.commons.io.IOUtils\r\n\r\n//\u041F\u0420\u041E\u0412\u0415\u0420\u041A\u0410 \u041F\u041E\u041B\u0415\u0419 \u041D\u0410 \u0412\u041A\u041B\u0410\u0414\u041A\u0415 \u0414\u0410\u041D\u041D\u042B\u0415 \u0417\u0410\u042F\u0412\u0418\u0422\u0415\u041B\u042F\r\n\r\n if(!request.requestor.data.phone)\r\n  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D \u0442\u0435\u043B\u0435\u0444\u043E\u043D\");\r\n\t   \r\nif(!request.requestor.data.birthDate) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 \u0434\u0430\u0442\u0430 \u0440\u043E\u0436\u0434\u0435\u043D\u0438\u044F\");\r\n \r\nif(!request.requestor.data.snils) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D \u0421\u041D\u0418\u041B\u0421\");\t  \r\n\r\nif(!request.requestor.data.inn) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D \u0418\u041D\u041D\");\r\n\t \r\ndef per =\"\"\"${request.requestor.data.inn}\"\"\";\r\nint len = per.length();\r\nif (len != 12) \r\n\t  throw new Exception(\"\u0418\u041D\u041D \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043B\u0438\u0446\u0430 \u0434\u043E\u043B\u0436\u0435\u043D \u0441\u043E\u0434\u0435\u0440\u0436\u0430\u0442\u044C \u0434\u0432\u0435\u043D\u0430\u0434\u0446\u0430\u0442\u044C \u0446\u0438\u0444\u0440\");\r\n\r\n\r\nif(!request.requestor.data.passport?.series) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 \u0441\u0435\u0440\u0438\u044F \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430\");\t\r\n\r\n\r\nif(!request.requestor.data.passport?.number) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 \u043D\u043E\u043C\u0435\u0440 \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430\");\t\r\n\r\nif(!request.requestor.data.passport?.date) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u0430 \u0434\u0430\u0442\u0430 \u0432\u044B\u0434\u0430\u0447\u0438 \u043F\u0430\u0441\u043F\u043E\u0440\u0442\u0430\");\r\n\t   \r\nif(!request.requestor.data.passport?.dept) \r\n\t  throw new Exception(\"\u043D\u0435 \u0443\u043A\u0430\u0437\u0430\u043D\u043E \u043D\u0430\u0438\u043C\u0435\u043D\u043E\u0432\u0430\u043D\u0438\u0435 \u043E\u0440\u0433\u0430\u043D\u0430 \u0432\u044B\u0434\u0430\u0432\u0448\u0435\u0433\u043E \u043F\u0430\u0441\u043F\u043E\u0440\u0442\");\r\n\r\n// \u0444\u043E\u0440\u043C\u0438\u0440\u0443\u0435\u043C \u0442\u0438\u043F \u0437\u0430\u044F\u0432\u0438\u0442\u0435\u043B\u044F \u043F\u043E \u0428\u0428\r\ndef u = com.pgg.s1.core.UserResolver.getInstance().whoAmI();\r\ndef req = request.requestor\r\nswitch ( req.type ) {\r\ncase   'citizen'  :\r\n        if (req.id == \"me\") {\r\n    \t\ttypeRequestor = 'Fl' \r\n    \t\tbreak\r\n        }else if (req.id != \"me\") {\r\n            typeRequestor = 'Pfl' \r\n    \t\tbreak    \r\n        }else {\r\n            break\r\n        }\r\ncase  'businessman':\r\n\t\tif (req.id == \"me\") {\r\n    \t\ttypeRequestor = 'Ip' \r\n    \t\tbreak\r\n        }else if (req.id != \"me\") {\r\n            typeRequestor = 'Pip' \r\n    \t\tbreak    \r\n        }else {\r\n            break\r\n        }\r\n\t\tbreak\r\ncase 'organization':\r\n        typeRequestor = 'Ul'\r\n        break\r\n default:\r\n        typeRequestor = 'UNDEFINE'\r\n}\r\n\r\nctx.element = \"PutDocument\"\r\nctx.tns = \"http://www.red-soft.biz/ncore/dx/ws/smev-25\"\r\n//ctx.recipientCode = \"SGDVO11111\"\r\nctx.recipientCode = \"001204341\"\r\nctx.recipientName = \"\u0421\u0438\u0441\u0442\u0435\u043C\u0430 \u0433\u0430\u0440\u0430\u043D\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0438 \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043D\u044B\u0445 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\r\nctx.originatorCode = \"PGU_SYS_1\"\r\nctx.originatorName = \"\u0420\u041F\u0413\u0423 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\r\nctx.senderCode = \"PGU_SYS_1\"\r\nctx.senderName = \"\u0420\u041F\u0413\u0423 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438\"\r\n//ctx.mustSignXml = false; //\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u044C \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0438\u043D\u0430\r\n//ctx.mustSignFiles = false;//\u0422\u0440\u0435\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0434\u043F\u0438\u0441\u044C \u0444\u0430\u0439\u043B\u043E\u0432 \u0432 \u0430\u0440\u0445\u0438\u0432\u0435\r\nctx.files = [];\r\n\r\n/*\u0444\u0443\u043D\u043A\u0446\u0438\u044F \u0432\u0441\u0442\u0430\u0432\u043A\u0438 \u0434\u0430\u0442\u044B*/\r\ndef date_format = {name,dt,format->\r\nif(dt){\r\n\treturn \"<${name}>\"+dt.format(format)+\"</${name}>\";\r\n}\r\nreturn '';\r\n}\r\n\r\ndef xml_test = \"\";\r\ndef xmlClone\r\ndef address = \"\";\r\ndef requestor = request.requestor;\r\ndef fiance = null;\r\ndef bride = null;\r\nif (request.data.who_is == \"\u0416\u0435\u043D\u0438\u0445\")\r\n{\r\nfiance = \"\"\" \r\n<tns:fiance>\r\n\t<fiance_surname>${requestor.data.name.surname?:''}</fiance_surname>\r\n\t<fiance_firstname>${requestor.data.name.name?:''}</fiance_firstname>\r\n\t<fiance_patronymic>${requestor.data.name.patronymic?:''}</fiance_patronymic>\r\n\t<fiance_sex>\u043C\u0443\u0436\u0441\u043A\u043E\u0439</fiance_sex>\r\n\t<fiance_birthday>${requestor.data.birthDate.format(\"yyyy-MM-dd\")}</fiance_birthday>\r\n\t<fiance_snils>${requestor.data.snils}</fiance_snils>\r\n\t<fiance_placeofbirth>${requestor.data.birthPlace}</fiance_placeofbirth>\r\n\t<fiance_citizenship></fiance_citizenship>\r\n\t<fiance_nationality></fiance_nationality>\r\n\t<tns:fiance_certdocument>\r\n\t\t<fiance_certdocument_doctype>\u043F\u0430\u0441\u043F\u043E\u0440\u0442</fiance_certdocument_doctype>\r\n\t\t<fiance_certdocument_docseries>${requestor.data.passport.series?:''}</fiance_certdocument_docseries>\r\n\t\t<fiance_certdocument_docnumber>${requestor.data.passport.number?:''}</fiance_certdocument_docnumber>\r\n\t\t<fiance_certdocument_docissuedate>${requestor.data.passport.date.format(\"yyyy-MM-dd\")}</fiance_certdocument_docissuedate>\r\n\t\t<fiance_certdocument_departmentcode></fiance_certdocument_departmentcode>\r\n\t\t<fiance_certdocument_stateissueauthority>${requestor.data.passport.dept?:''}</fiance_certdocument_stateissueauthority>\r\n\t\t<fiance_certdocument_specialnote></fiance_certdocument_specialnote>\r\n\t</tns:fiance_certdocument>\r\n\t<tns:fiance_address>\r\n\t\t\t\t<tns:fiance_address_zipcode>${request.requestor.data.address?.index?:''}</tns:fiance_address_zipcode>\r\n\t\t\t\t<tns:fiance_address_region>${request.requestor.data.address?.region?:''}</tns:fiance_address_region>\r\n\t\t\t\t<tns:fiance_address_area>${request.requestor.data.address?.raion?:''}</tns:fiance_address_area>\r\n                <tns:fiance_address_city>${request.requestor.data.address?.city?:''}</tns:fiance_address_city>\r\n                <tns:fiance_address_street>${request.requestor.data.address?.street?:''}</tns:fiance_address_street>\r\n                <tns:fiance_address_house>${request.requestor.data.address?.house?:''}</tns:fiance_address_house>\r\n                <tns:fiance_address_block>${request.requestor.data.address?.building?:''}</tns:fiance_address_block>\r\n                <tns:fiance_address_flat>${request.requestor.data.address?.flat?:''}</tns:fiance_address_flat>\r\n\t</tns:fiance_address>\r\n</tns:fiance>\"\"\";}\r\nelse if (request.data.who_is == \"\u041D\u0435\u0432\u0435\u0441\u0442\u0430\")\r\n{\r\nfiance = \"\"\" \r\n<tns:fiance>\r\n\t<fiance_surname>${request.data.pair.surname?:''}</fiance_surname>\r\n\t<fiance_firstname>${request.data.pair.name?:''}</fiance_firstname>\r\n\t<fiance_patronymic>${request.data.pair.patronymic?:''}</fiance_patronymic>\r\n\t<fiance_sex>\u043C\u0443\u0436\u0441\u043A\u043E\u0439</fiance_sex>\r\n\t\t<fiance_snils>${request.data.pair.snils}</fiance_snils>\r\n\t<fiance_birthday>${request.data.pair.birthday.format(\"yyyy-MM-dd\")}</fiance_birthday>\r\n\t<fiance_placeofbirth>${request.data.pair.placeofbirth}</fiance_placeofbirth>\r\n\t<fiance_citizenship></fiance_citizenship>\r\n\t<fiance_nationality></fiance_nationality>\r\n\t<tns:fiance_certdocument>\r\n\t\t<fiance_certdocument_doctype>${request.data.pair.document.type?.title?:''}</fiance_certdocument_doctype>\r\n\t\t<fiance_certdocument_docseries>${request.data.pair.document.series?:''}</fiance_certdocument_docseries>\r\n\t\t<fiance_certdocument_docnumber>${request.data.pair.document.number?:''}</fiance_certdocument_docnumber>\r\n\t\t<fiance_certdocument_docissuedate>${request.data.pair.document.date.format(\"yyyy-MM-dd\")}</fiance_certdocument_docissuedate>\r\n\t\t<fiance_certdocument_departmentcode>${request.data.pair.document.departmentcode?:''}</fiance_certdocument_departmentcode>\r\n\t\t<fiance_certdocument_stateissueauthority>${request.data.pair.document.department?:''}</fiance_certdocument_stateissueauthority>\r\n\t\t<fiance_certdocument_specialnote>${request.data.pair.document.notes?:''}</fiance_certdocument_specialnote>\t\t\r\n\t</tns:fiance_certdocument>\r\n\t<tns:fiance_address>\r\n\t\t\t\t<tns:fiance_address_zipcode>${request.data.pair.address?.index?:''}</tns:fiance_address_zipcode>\r\n\t\t\t\t<tns:fiance_address_region>${request.data.pair.address?.region?:''}</tns:fiance_address_region>\r\n\t\t\t\t<tns:fiance_address_area>${request.data.pair.address?.raion?:''}</tns:fiance_address_area>\r\n                <tns:fiance_address_city>${request.data.pair.address?.city?:''}</tns:fiance_address_city>\r\n                <tns:fiance_address_street>${request.data.pair.address?.street?:''}</tns:fiance_address_street>\r\n                <tns:fiance_address_house>${request.data.pair.address?.house?:''}</tns:fiance_address_house>\r\n                <tns:fiance_address_block>${request.data.pair.address?.building?:''}</tns:fiance_address_block>\r\n                <tns:fiance_address_flat>${request.data.pair.address?.flat?:''}</tns:fiance_address_flat>\r\n\t</tns:fiance_address>\r\n</tns:fiance>\"\"\";}\r\n\r\n\r\nif (request.data.who_is == \"\u041D\u0435\u0432\u0435\u0441\u0442\u0430\")\r\n{\r\nbride = \"\"\" \r\n<tns:bride>\r\n\t<bride_surname>${requestor.data.name.surname?:''}</bride_surname>\r\n\t<bride_firstname>${requestor.data.name.name?:''}</bride_firstname>\r\n\t<bride_patronymic>${requestor.data.name.patronymic?:''}</bride_patronymic>\r\n\t<bride_sex>\u0436\u0435\u043D\u0441\u043A\u0438\u0439</bride_sex>\r\n\t<bride_birthday>${requestor.data.birthDate.format(\"yyyy-MM-dd\")}</bride_birthday>\r\n\t<bride_snils>${requestor.data.snils}</bride_snils>\r\n\t<bride_placeofbirth>${requestor.data.birthPlace}</bride_placeofbirth>\r\n\t<bride_citizenship></bride_citizenship>\r\n\t<bride_nationality></bride_nationality>\r\n\t<tns:bride_certdocument>\r\n\t\t<bride_certdocument_doctype>\u043F\u0430\u0441\u043F\u043E\u0440\u0442</bride_certdocument_doctype>\r\n\t\t<bride_certdocument_docseries>${requestor.data.passport.series?:''}</bride_certdocument_docseries>\r\n\t\t<bride_certdocument_docnumber>${requestor.data.passport.number?:''}</bride_certdocument_docnumber>\r\n\t\t<bride_certdocument_docissuedate>${requestor.data.passport.date.format(\"yyyy-MM-dd\")}</bride_certdocument_docissuedate>\r\n\t\t<bride_certdocument_departmentcode></bride_certdocument_departmentcode>\r\n\t\t<bride_certdocument_stateissueauthority>${requestor.data.passport.dept?:''}</bride_certdocument_stateissueauthority>\r\n\t\t<bride_certdocument_specialnote></bride_certdocument_specialnote>\r\n\t</tns:bride_certdocument>\r\n\t<tns:bride_address>\r\n\t\t\t\t<tns:bride_address_zipcode>${request.requestor.data.address?.index?:''}</tns:bride_address_zipcode>\r\n\t\t\t\t<tns:bride_address_region>${request.requestor.data.address?.region?:''}</tns:bride_address_region>\r\n\t\t\t\t<tns:bride_address_area>${request.requestor.data.address?.raion?:''}</tns:bride_address_area>\r\n                <tns:bride_address_city>${request.requestor.data.address?.city?:''}</tns:bride_address_city>\r\n                <tns:bride_address_street>${request.requestor.data.address?.street?:''}</tns:bride_address_street>\r\n                <tns:bride_address_house>${request.requestor.data.address?.house?:''}</tns:bride_address_house>\r\n                <tns:bride_address_block>${request.requestor.data.address?.building?:''}</tns:bride_address_block>\r\n                <tns:bride_address_flat>${request.requestor.data.address?.flat?:''}</tns:bride_address_flat>\r\n\t</tns:bride_address>\r\n</tns:bride>\"\"\";}\r\nelse if (request.data.who_is == \"\u0416\u0435\u043D\u0438\u0445\")\r\n{\r\nbride = \"\"\" \r\n<tns:bride>\r\n\t<bride_surname>${request.data.pair.surname?:''}</bride_surname>\r\n\t<bride_firstname>${request.data.pair.name?:''}</bride_firstname>\r\n\t<bride_patronymic>${request.data.pair.patronymic?:''}</bride_patronymic>\r\n\t<bride_sex>\u0436\u0435\u043D\u0441\u043A\u0438\u0439</bride_sex>\r\n\t<bride_snils>${request.data.pair.snils}</bride_snils>\r\n\t<bride_birthday>${request.data.pair.birthday.format(\"yyyy-MM-dd\")}</bride_birthday>\r\n\t<bride_placeofbirth>${request.data.pair.placeofbirth}</bride_placeofbirth>\r\n\t<bride_citizenship></bride_citizenship>\r\n\t<bride_nationality></bride_nationality>\r\n\t<tns:bride_certdocument>\r\n\t\t<bride_certdocument_doctype>${request.data.pair.document.type?.title?:''}</bride_certdocument_doctype>\r\n\t\t<bride_certdocument_docseries>${request.data.pair.document.series?:''}</bride_certdocument_docseries>\r\n\t\t<bride_certdocument_docnumber>${request.data.pair.document.number?:''}</bride_certdocument_docnumber>\r\n\t\t<bride_certdocument_docissuedate>${request.data.pair.document.date.format(\"yyyy-MM-dd\")}</bride_certdocument_docissuedate>\r\n\t\t<bride_certdocument_departmentcode>${request.data.pair.document.departmentcode?:''}</bride_certdocument_departmentcode>\r\n\t\t<bride_certdocument_stateissueauthority>${request.data.pair.document.department?:''}</bride_certdocument_stateissueauthority>\r\n\t\t<bride_certdocument_specialnote>${request.data.pair.document.notes?:''}</bride_certdocument_specialnote>\t\t\r\n\t</tns:bride_certdocument>\r\n\t<tns:bride_address>\r\n\t\t\t\t<tns:bride_address_zipcode>${request.data.pair.address?.index?:''}</tns:bride_address_zipcode>\r\n\t\t\t\t<tns:bride_address_region>${request.data.pair.address?.region?:''}</tns:bride_address_region>\r\n\t\t\t\t<tns:bride_address_area>${request.data.pair.address?.raion?:''}</tns:bride_address_area>\r\n                <tns:bride_address_city>${request.data.pair.address?.city?:''}</tns:bride_address_city>\r\n                <tns:bride_address_street>${request.data.pair.address?.street?:''}</tns:bride_address_street>\r\n                <tns:bride_address_house>${request.data.pair.address?.house?:''}</tns:bride_address_house>\r\n                <tns:bride_address_block>${request.data.pair.address?.building?:''}</tns:bride_address_block>\r\n                <tns:bride_address_flat>${request.data.pair.address?.flat?:''}</tns:bride_address_flat>\r\n\t</tns:bride_address>\r\n</tns:bride>\"\"\";}\r\n\r\ndef contextData=\"\"\"\r\n\t\t\t<tns:contextData>\"\"\";\r\n\t\t\t\r\n\t\t\t/*\u0421\u0415\u041C\u0415\u0419\u041D\u041E\u0415 \u041F\u041E\u041B\u041E\u0416\u0415\u041D\u0418\u0415 \u0416\u0415\u041D\u0418\u0425\u0410*/\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t${fiance}\r\n\t\t\t\t<tns:fiance_maritalstatus>\r\n\t\t\t\t\t<fiance_maritalstatus_maritalstatustype>${request.data.fiance_maritalstatus?.fiance_maritalstatus_maritalstatustype?:''}</fiance_maritalstatus_maritalstatustype>\r\n\t\t\t\t\t<fiance_maritalstatus_country>${request.data.fiance_maritalstatus?.fiance_maritalstatus_country?:''}</fiance_maritalstatus_country>\t\t\t\t\t\r\n\t\t\t\t\t<tns:fiance_divorced_docrf>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.fiance_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('fiance_divorced_docrf_dateregistration',request.data.fiance_maritalstatus.divorced.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<fiance_divorced_docrf_dateregistration></fiance_divorced_docrf_dateregistration>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t<fiance_divorced_docrf_numberact>${request.data.fiance_maritalstatus?.divorced?.number_act?:''}</fiance_divorced_docrf_numberact>\r\n\t\t\t\t\t\t<fiance_divorced_docrf_seriesheraldicdoc>${request.data.fiance_maritalstatus?.divorced?.series?:''}</fiance_divorced_docrf_seriesheraldicdoc>\r\n\t\t\t\t\t\t<fiance_divorced_docrf_numberheraldicdoc>${request.data.fiance_maritalstatus?.divorced?.number?:''}</fiance_divorced_docrf_numberheraldicdoc>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<fiance_divorced_docrf_placeregistration>${request.data.fiance_maritalstatus?.divorced?.place?:''}</fiance_divorced_docrf_placeregistration>\r\n\t\t\t\t\t</tns:fiance_divorced_docrf>\r\n\t\t\t\t\t<tns:fiance_divorced_docforeign>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.fiance_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('fiance_divorced_docforeign_datedivorce',request.data.fiance_maritalstatus.divorced.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<fiance_divorced_docforeign_datedivorce></fiance_divorced_docforeign_datedivorce>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\t\t\t\t\t\t\r\n\t\t\t\t\t\t<fiance_divorced_docforeign_country>${request.data.fiance_maritalstatus?.divorced?.fiance_docforeign_country?:''}</fiance_divorced_docforeign_country>\r\n\t\t\t\t\t\t<fiance_divorced_docforeign_numberdivorce>${request.data.fiance_maritalstatus?.divorced?.fiance_numberdivorce?:''}</fiance_divorced_docforeign_numberdivorce>\r\n\t\t\t\t\t\t<fiance_divorced_docforeign_placedivorce>${request.data.fiance_maritalstatus?.divorced?.place?:''}</fiance_divorced_docforeign_placedivorce>\r\n\t\t\t\t\t\t<fiance_divorced_docforeign_otherinfo>${request.data.fiance_maritalstatus?.fiance_otherinfo?:''}</fiance_divorced_docforeign_otherinfo>\t\t\t\t\t\t\r\n\t\t\t\t\t</tns:fiance_divorced_docforeign>\r\n\t\t\t\t\t<tns:fiance_widow_docdeathrf>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.fiance_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('fiance_widow_docdeathrf_dateregistration',request.data.fiance_maritalstatus.death.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathrf_dateregistration></fiance_widow_docdeathrf_dateregistration>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathrf_numberact>${request.data.fiance_maritalstatus.death?.number_act?:''}</fiance_widow_docdeathrf_numberact>\t\t\t\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathrf_seriesheraldicdoc>${request.data.fiance_maritalstatus.death?.series?:''}</fiance_widow_docdeathrf_seriesheraldicdoc>\r\n\t\t\t\t\t\t<fiance_widow_docdeathrf_numberheraldicdoc>${request.data.fiance_maritalstatus.death?.number?:''}</fiance_widow_docdeathrf_numberheraldicdoc>\r\n\t\t\t\t\t\t<fiance_widow_docdeathrf_plaseregistration>${request.data.fiance_maritalstatus.death?.place?:''}</fiance_widow_docdeathrf_plaseregistration>\t\t\t\t\t\t\r\n\t\t\t\t\t</tns:fiance_widow_docdeathrf>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<tns:fiance_widow_docdeathforeign>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.fiance_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('fiance_widow_docdeathforeign_datedocdeath',request.data.fiance_maritalstatus.death.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathforeign_datedocdeath></fiance_widow_docdeathforeign_datedocdeath>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathforeign_country>${request.data.fiance_maritalstatus.death?.fiance_docdeat_country?:''}</fiance_widow_docdeathforeign_country>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathforeign_numberdocdeath>${request.data.fiance_maritalstatus.death?.number_act?:''}</fiance_widow_docdeathforeign_numberdocdeath>\t\t\t\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathforeign_placedocdeath>${request.data.fiance_maritalstatus.death?.place?:''}</fiance_widow_docdeathforeign_placedocdeath>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<fiance_widow_docdeathforeign_otherInfo>${request.data.fiance_maritalstatus.death?.fiance_docdeat_otherInfo?:''}</fiance_widow_docdeathforeign_otherInfo>\r\n\t\t\t\t\t</tns:fiance_widow_docdeathforeign>\r\n\t\t\t\t</tns:fiance_maritalstatus>\"\"\";\r\n\t\t\t\t\r\n\t\t\t/*\u0421\u0415\u041C\u0415\u0419\u041D\u041E\u0415 \u041F\u041E\u041B\u041E\u0416\u0415\u041D\u0418\u0415 \u041D\u0415\u0412\u0415\u0421\u0422\u042B*/\r\n\t\t\t\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t${bride}\r\n\t\t\t\t<tns:bride_maritalstatus>\r\n\t\t\t\t\t<bride_maritalstatus_maritalstatustype>${request.data.bride_maritalstatus?.bride_maritalstatus_maritalstatustype?:''}</bride_maritalstatus_maritalstatustype>\r\n\t\t\t\t\t<bride_maritalstatus_country>${request.data.bride_maritalstatus?.bride_maritalstatus_country?:''}</bride_maritalstatus_country>\t\t\t\t\t\r\n\t\t\t\t\t<tns:bride_divorced_docrf>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.bride_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('bride_divorced_docrf_dateregistration',request.data.bride_maritalstatus.divorced.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<bride_divorced_docrf_dateregistration></bride_divorced_docrf_dateregistration>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t<bride_divorced_docrf_numberact>${request.data.bride_maritalstatus?.divorced?.number_act?:''}</bride_divorced_docrf_numberact>\r\n\t\t\t\t\t\t<bride_divorced_docrf_seriesheraldicdoc>${request.data.bride_maritalstatus?.divorced?.series?:''}</bride_divorced_docrf_seriesheraldicdoc>\r\n\t\t\t\t\t\t<bride_divorced_docrf_numberheraldicdoc>${request.data.bride_maritalstatus?.divorced?.number?:''}</bride_divorced_docrf_numberheraldicdoc>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<bride_divorced_docrf_placeregistration>${request.data.bride_maritalstatus?.divorced?.place?:''}</bride_divorced_docrf_placeregistration>\r\n\t\t\t\t\t</tns:bride_divorced_docrf>\r\n\t\t\t\t\t<tns:bride_divorced_docforeign>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.bride_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('bride_divorced_docforeign_datedivorce',request.data.bride_maritalstatus.divorced.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<bride_divorced_docforeign_datedivorce></bride_divorced_docforeign_datedivorce>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\t\t\t\t\t\t\r\n\t\t\t\t\t\t<bride_divorced_docforeign_country>${request.data.bride_maritalstatus?.divorced?.bride_docforeign_country?:''}</bride_divorced_docforeign_country>\r\n\t\t\t\t\t\t<bride_divorced_docforeign_numberdivorce>${request.data.bride_maritalstatus?.divorced?.bride_numberdivorce?:''}</bride_divorced_docforeign_numberdivorce>\r\n\t\t\t\t\t\t<bride_divorced_docforeign_placedivorce>${request.data.bride_maritalstatus?.divorced?.place?:''}</bride_divorced_docforeign_placedivorce>\r\n\t\t\t\t\t\t<bride_divorced_docforeign_otherinfo>${request.data.bride_maritalstatus?.bride_otherinfo?:''}</bride_divorced_docforeign_otherinfo>\t\t\t\t\t\t\r\n\t\t\t\t\t</tns:bride_divorced_docforeign>\r\n\t\t\t\t\r\n\t\t\t\t\t<tns:bride_widow_docdeathrf>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.bride_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('bride_widow_docdeathrf_dateregistration',request.data.bride_maritalstatus.death.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<bride_widow_docdeathrf_dateregistration></bride_widow_docdeathrf_dateregistration>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<bride_widow_docdeathrf_numberact>${request.data.bride_maritalstatus.death?.number_act?:''}</bride_widow_docdeathrf_numberact>\t\t\t\t\r\n\t\t\t\t\t\t<bride_widow_docdeathrf_seriesheraldicdoc>${request.data.bride_maritalstatus.death?.series?:''}</bride_widow_docdeathrf_seriesheraldicdoc>\r\n\t\t\t\t\t\t<bride_widow_docdeathrf_numberheraldicdoc>${request.data.bride_maritalstatus.death?.number?:''}</bride_widow_docdeathrf_numberheraldicdoc>\r\n\t\t\t\t\t\t<bride_widow_docdeathrf_plaseregistration>${request.data.bride_maritalstatus.death?.place?:''}</bride_widow_docdeathrf_plaseregistration>\t\t\t\t\t\t\r\n\t\t\t\t\t</tns:bride_widow_docdeathrf>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<tns:bride_widow_docdeathforeign>\r\n\t\t\t\t\t\"\"\";\r\n\t\t\t\t\tif(com.pgg.s1.core.format.MapHelper.get(request,'data.bride_maritalstatus.divorced.date')){\t\t\t\r\n\t\t\tcontextData+=\"\"\"\r\n\t\t\t\t\t\t${date_format('bride_widow_docdeathforeign_datedocdeath',request.data.bride_maritalstatus.death.date?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t\t\t\"\"\";}\r\n\t\t\t\t\t\telse {\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<bride_widow_docdeathforeign_datedocdeath></bride_widow_docdeathforeign_datedocdeath>\"\"\";}\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t\t\t<bride_widow_docdeathforeign_country>${request.data.bride_maritalstatus.death?.bride_docdeat_country?:''}</bride_widow_docdeathforeign_country>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<bride_widow_docdeathforeign_numberdocdeath>${request.data.bride_maritalstatus.death?.number_act?:''}</bride_widow_docdeathforeign_numberdocdeath>\t\t\t\t\r\n\t\t\t\t\t\t<bride_widow_docdeathforeign_placedocdeath>${request.data.bride_maritalstatus.death?.place?:''}</bride_widow_docdeathforeign_placedocdeath>\t\t\t\t\t\t\r\n\t\t\t\t\t\t<bride_widow_docdeathforeign_otherInfo>${request.data.bride_maritalstatus.death?.bride_docdeat_otherInfo?:''}</bride_widow_docdeathforeign_otherInfo>\r\n\t\t\t\t\t</tns:bride_widow_docdeathforeign>\r\n\t\t\t\t</tns:bride_maritalstatus>\"\"\";\r\n\r\n\t\t\t\t/*\u0412\u042B\u0411\u041E\u0420 \u0417\u0410\u0413\u0421, \u0410 \u0422\u0410\u041A \u0416\u0415 \u0414\u0410\u0422\u042B \u0418 \u0412\u0420\u0415\u041C\u0415\u041D\u0418 \u0417\u0410\u041F\u0418\u0421\u0418 \u0412 \u0417\u0410\u0413\u0421 \u041D\u0410 \u0411\u0420\u0410\u041A\u041E\u0421\u041E\u0427\u0415\u0422\u0410\u041D\u0418\u0415 \u0418 \u041F\u0420\u0418\u0415\u041C*/\t\t\r\n\t\t\tcontextData+=\"\"\"\t\r\n\t\t\t\t<tns:registry>\r\n\t\t\t\t\t\t<office>${request.data.registry.office.title?:''}</office>\r\n\t\t\t\t\t\t<date>${request.data.registry.date?:''}</date>\r\n\t\t\t\t\t\t<validate>${request.data.registry.validate?:''}</validate>\r\n\t\t\t\t</tns:registry>\r\n           </tns:contextData> \r\n\"\"\"\r\n\r\ndef Representative=\"\"\"\r\n\t\t\t<tns:Representative>\r\n\t\t\t\t<tns:FIO>\r\n\t\t\t\t\t<tns:name>${u.name.name}</tns:name>\r\n\t\t\t\t\t<tns:surname>${u.name.surname}</tns:surname>\r\n\t\t\t\t\t<tns:patronymic>${u.name.patronymic?:''}</tns:patronymic>\r\n\t\t\t\t</tns:FIO>\t\r\n\t\t\t\t${date_format('tns:birthday',u?.birthDate?:null,\"yyyy-MM-dd\")}\r\n\t\t\t\t<tns:SNILS>${u.snils?:''}</tns:SNILS>\r\n\t\t\t\t<tns:INN>${u.inn?:''}</tns:INN>\r\n\t\t\t\t<tns:certDocument>\r\n\t\t\t\t\t<tns:typeCode>\u043F\u0430\u0441\u043F\u043E\u0440\u0442</tns:typeCode>\r\n\t\t\t\t\t<tns:series>${u.passport.series?:''}</tns:series>\r\n\t\t\t\t\t<tns:number>${u.passport.number?:''}</tns:number>\r\n\t\t\t\t\t${date_format('tns:date',u.passport?.date?:null,\"yyyy-MM-dd\")}\t\r\n\t\t\t\t\t<tns:departmentCode>${u.passport.dept?:''}</tns:departmentCode>\r\n\t\t\t\t</tns:certDocument>\r\n\t\t\t\t<tns:AddressReg>\r\n\t\t\t\t\t<tns:ZIPCode>${u.address?.index?:''}</tns:ZIPCode>\r\n\t\t\t\t\t<tns:region>${u.address?.region?:''}</tns:region>\r\n\t\t\t\t\t<tns:city>${u.address?.city?:''}</tns:city>\r\n\t\t\t\t\t<tns:village>${u.address?.town?:''}</tns:village>\r\n\t\t\t\t\t<tns:street>${u.address?.street?:''}</tns:street>\r\n\t\t\t\t\t<tns:house>${u.address?.house?:''}</tns:house>\r\n\t\t\t\t\t<tns:block>${u.address?.building?:''}</tns:block>\r\n\t\t\t\t\t<tns:flat>${u.address?.flat?:''}</tns:flat>\r\n\t\t\t\t</tns:AddressReg>\r\n\t\t\t\t<tns:AddressActual>\r\n\t\t\t\t\t<tns:ZIPCode>${u.factAddress?.index?:''}</tns:ZIPCode>\r\n\t\t\t\t\t<tns:region>${u.factAddress?.region?:''}</tns:region>\r\n\t\t\t\t\t<tns:city>${u.factAddress?.city?:''}</tns:city>\r\n\t\t\t\t\t<tns:village>${u.factAddress?.town?:''}</tns:village>\r\n\t\t\t\t\t<tns:street>${u.factAddress?.street?:''}</tns:street>\r\n\t\t\t\t\t<tns:house>${u.factAddress?.house?:''}</tns:house>\r\n\t\t\t\t\t<tns:block>${u.factAddress?.building?:''}</tns:block>\r\n\t\t\t\t\t<tns:flat>${u.factAddress?.flat?:''}</tns:flat>\r\n\t\t\t\t</tns:AddressActual>\r\n\t\t\t\t<tns:Phone>${u.phone?:''}</tns:Phone>\r\n\t\t\t\t<tns:Fax></tns:Fax>\r\n\t\t\t\t<tns:eMail>${u.email?:''}</tns:eMail>\r\n\t\t\t</tns:Representative>\r\n\"\"\";\r\n\r\n\r\nif (typeRequestor == \"Fl\"){\r\n    xml_test = \"\"\"\r\n     <fed:FormData>\r\n     <tns:IQEpguVlgUSL23${typeRequestor} xmlns:tns=\"http://www.red-soft.biz/schemas/shgate/common/2011/0.5\" xmlns:BSSEST=\"http://www.bssys.com/BSSTypes_20120606\" ApplicantType=\"\u0424\u0438\u0437\u0438\u0447\u0435\u0441\u043A\u043E\u0435 \u043B\u0438\u0446\u043E\">        \r\n        <tns:OKTMO>18701000</tns:OKTMO>\r\n        <tns:applicantDataFL>\r\n\t\t\t<tns:deptTitle>${request.deptTitle}</tns:deptTitle>\r\n            <tns:FIO>\r\n                <tns:name>${requestor.data.name?.name?:''}</tns:name>\r\n                <tns:surname>${requestor.data.name?.surname?:''}</tns:surname>\r\n                <tns:patronymic>${requestor.data.name?.patronymic?:''}</tns:patronymic>\r\n            </tns:FIO>\t\t\t\r\n            <tns:birthday>${requestor.data.birthDate.format(\"yyyy-MM-dd\")}</tns:birthday>\r\n            <tns:SNILS>${requestor.data.snils?:''}</tns:SNILS>\r\n            <tns:INN>${requestor.data.inn?:''}</tns:INN>\r\n            <tns:certDocument>\r\n                <tns:typeCode>\u043F\u0430\u0441\u043F\u043E\u0440\u0442</tns:typeCode>\r\n                <tns:series>${requestor.data.passport?.series?:''}</tns:series>\r\n                <tns:number>${requestor.data.passport?.number?:''}</tns:number>\r\n                <tns:issueDate>${requestor.data.passport.date.format(\"yyyy-MM-dd\")}</tns:issueDate>\r\n\t\t\t\t<tns:departmentCode>${requestor.data.passport?.dept?:''}</tns:departmentCode>\r\n            </tns:certDocument>\r\n            <tns:AddressReg>\r\n                <tns:ZIPCode>${request.requestor.data.address?.index?:''}</tns:ZIPCode>\r\n                <tns:region>${request.requestor.data.address?.region?:''}</tns:region>\r\n                <tns:city>${request.requestor.data.address?.city?:''}</tns:city>\r\n                <tns:village>${request.requestor.data.address?.town?:''}</tns:village>\r\n                <tns:street>${request.requestor.data.address?.street?:''}</tns:street>\r\n                <tns:house>${request.requestor.data.address?.house?:''}</tns:house>\r\n                <tns:block>${request.requestor.data.address?.building?:''}</tns:block>\r\n                <tns:flat>${request.requestor.data.address?.flat?:''}</tns:flat>\r\n            </tns:AddressReg>\r\n            <tns:AddressActual>\r\n                <tns:ZIPCode>${request.requestor.data.factAddress?.index?:''}</tns:ZIPCode>\r\n                <tns:region>${request.requestor.data.factAddress?.region?:''}</tns:region>\r\n                <tns:city>${request.requestor.data.factAddress?.city?:''}</tns:city>\r\n                <tns:village>${request.requestor.data.factAddress?.town?:''}</tns:village>\r\n                <tns:street>${request.requestor.data.factAddress?.street?:''}</tns:street>\r\n                <tns:house>${request.requestor.data.factAddress?.house?:''}</tns:house>\r\n                <tns:block>${request.requestor.data.factAddress?.building?:''}</tns:block>\r\n                <tns:flat>${request.requestor.data.factAddress?.flat?:''}</tns:flat>\r\n            </tns:AddressActual>\r\n            <tns:Phone>${requestor.data.phone?:''}</tns:Phone>\r\n            <tns:eMail>${requestor.data.email?:''}</tns:eMail>           \r\n            ${contextData}         \r\n        </tns:applicantDataFL> \r\n    </tns:IQEpguVlgUSL23${typeRequestor}>\r\n    </fed:FormData>\r\n    \"\"\";\r\n}else if (typeRequestor == \"Pfl\"){\r\n     xml_test = \"\"\"\r\n    <fed:FormData>\r\n    <tns:IQEpguVlgUSL23${typeRequestor} xmlns:tns=\"http://www.red-soft.biz/schemas/shgate/common/2011/0.5\" xmlns:BSSEST=\"http://www.bssys.com/BSSTypes_20120606\" ApplicantType=\"\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u0435\u043B\u044C \u0444\u0438\u0437\u0438\u0447\u0435\u0441\u043A\u043E\u0433\u043E \u043B\u0438\u0446\u0430\">\r\n\t\t<tns:OKTMO>18701000</tns:OKTMO>\r\n\t\t<tns:applicantDataPfl>\r\n\t\t\t<tns:deptTitle>${request.deptTitle}</tns:deptTitle>\r\n\t\t\t<tns:FIO>\r\n                <tns:name>${requestor.data.name?.name?:''}</tns:name>\r\n                <tns:surname>${requestor.data.name?.surname?:''}</tns:surname>\r\n                <tns:patronymic>${requestor.data.name?.patronymic?:''}</tns:patronymic>\r\n            </tns:FIO>\t\t\t\r\n            <tns:birthday>${requestor.data.birthDate.format(\"yyyy-MM-dd\")}</tns:birthday>\r\n            <tns:SNILS>${requestor.data.snils?:''}</tns:SNILS>\r\n            <tns:INN>${requestor.data.inn?:''}</tns:INN>\r\n            <tns:certDocument>\r\n                <tns:typeCode>\u043F\u0430\u0441\u043F\u043E\u0440\u0442</tns:typeCode>\r\n                <tns:series>${requestor.data.passport?.series?:''}</tns:series>\r\n                <tns:number>${requestor.data.passport?.number?:''}</tns:number>\r\n                <tns:issueDate>${requestor.data.passport.date.format(\"yyyy-MM-dd\")}</tns:issueDate>\r\n\t\t\t\t<tns:departmentCode>${requestor.data.passport?.dept?:''}</tns:departmentCode>\r\n            </tns:certDocument>\r\n            <tns:AddressReg>\r\n                <tns:ZIPCode>${request.requestor.data.address?.index?:''}</tns:ZIPCode>\r\n                <tns:region>${request.requestor.data.address?.region?:''}</tns:region>\r\n                <tns:city>${request.requestor.data.address?.city?:''}</tns:city>\r\n                <tns:village>${request.requestor.data.address?.town?:''}</tns:village>\r\n                <tns:street>${request.requestor.data.address?.street?:''}</tns:street>\r\n                <tns:house>${request.requestor.data.address?.house?:''}</tns:house>\r\n                <tns:block>${request.requestor.data.address?.building?:''}</tns:block>\r\n                <tns:flat>${request.requestor.data.address?.flat?:''}</tns:flat>\r\n            </tns:AddressReg>\r\n            <tns:AddressActual>\r\n                <tns:ZIPCode>${request.requestor.data.factAddress?.index?:''}</tns:ZIPCode>\r\n                <tns:region>${request.requestor.data.factAddress?.region?:''}</tns:region>\r\n                <tns:city>${request.requestor.data.factAddress?.city?:''}</tns:city>\r\n                <tns:village>${request.requestor.data.factAddress?.town?:''}</tns:village>\r\n                <tns:street>${request.requestor.data.factAddress?.street?:''}</tns:street>\r\n                <tns:house>${request.requestor.data.factAddress?.house?:''}</tns:house>\r\n                <tns:block>${request.requestor.data.factAddress?.building?:''}</tns:block>\r\n                <tns:flat>${request.requestor.data.factAddress?.flat?:''}</tns:flat>\r\n            </tns:AddressActual>\r\n            <tns:Phone>${requestor.data.phone?:''}</tns:Phone>\r\n            <tns:eMail>${requestor.data.email?:''}</tns:eMail>\r\n\t\t\t${Representative}\r\n\t\t\t${contextData}\r\n\t\t\t\r\n        </tns:applicantDataPfl>\r\n    </tns:IQEpguVlgUSL23${typeRequestor}>\r\n    </fed:FormData>\r\n    \"\"\";\r\n}\r\nctx.request_xml = \"\"\"\r\n<fed:Data xmlns:fed='http://smev.gosuslugi.ru/request/fed/rev120528'>\r\n            ${xml_test} \r\n</fed:Data>\r\n\"\"\";\r\n\r\ndef name = \"\";\r\ndef size = 0;\r\nif (request.data.doc_notification == true)\r\n    {\r\n        ctx.mustSignXml = true;//false\r\n        ctx.mustSignFiles = true;\r\n    }\r\nelse{\r\n        ctx.mustSignXml = true;\r\n        ctx.mustSignFiles = true;\r\n        for(def i=0; i < request.data.applied_documents.load_doc_1.size(); i++)\r\n        {\r\n            ctx.files.add([group:\"default\",id:request.data.applied_documents[i].load_doc_1.id,name:name])\r\n            size = size + request.data.applied_documents[i].load_doc_1.size;\r\n        }\r\n        if (size > 5000000){\r\n            throw new Exception(\"\u041E\u0431\u0449\u0438\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043F\u0440\u0438\u043A\u0440\u0435\u043F\u043B\u044F\u0435\u043C\u044B\u0445 \u0434\u043E\u043A\u0443\u043C\u0435\u043D\u0442\u043E\u0432 (\"+size+\" \u0431\u0430\u0439\u0442) \u043F\u0440\u0435\u0432\u044B\u0448\u0430\u0435\u0442 5\u041C\u0431.\");\r\n        }\r\n    }\r\n"},"format":"com.pgg.interdept.format.MR255Format","date":"/Date(1392120163129)/","procedures":[{"serviceTitle":"\u0413\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u0437\u0430\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F \u0431\u0440\u0430\u043A\u0430","serviceId":"3400000010000221119","procedureTitle":"\u0413\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u0430\u044F \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F \u0437\u0430\u043A\u043B\u044E\u0447\u0435\u043D\u0438\u044F \u0431\u0440\u0430\u043A\u0430","deptTitle":"\u041E\u0442\u0434\u0435\u043B \u0437\u0430\u043F\u0438\u0441\u0438 \u0430\u043A\u0442\u043E\u0432 \u0433\u0440\u0430\u0436\u0434\u0430\u043D\u0441\u043A\u043E\u0433\u043E \u0441\u043E\u0441\u0442\u043E\u044F\u043D\u0438\u044F \u0430\u043F\u043F\u0430\u0440\u0430\u0442\u0430 \u0413\u0443\u0431\u0435\u0440\u043D\u0430\u0442\u043E\u0440\u0430 \u0438  \u041F\u0440\u0430\u0432\u0438\u0442\u0435\u043B\u044C\u0441\u0442\u0432\u0430 \u0412\u043E\u043B\u0433\u043E\u0433\u0440\u0430\u0434\u0441\u043A\u043E\u0439 \u043E\u0431\u043B\u0430\u0441\u0442\u0438","deptId":"3400000010000021206","procedureId":"3400000010000221875"}],"endpoint":"http://172.25.1.11:80/epgu-2-5","id":"3400000010000221875","_state":"present","title":"23 \u041F\u0440\u0438\u0435\u043C \u043F\u0440\u0435\u0434\u0432\u0430\u0440\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0445 \u0437\u0430\u044F\u0432\u043B\u0435\u043D\u0438\u0439 \u043D\u0430 \u0433\u043E\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043D\u043D\u0443\u044E \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044E \u0431\u0440\u0430\u043A\u0430","address":"http://gw1.volganet.ru:14771/PGU_ModuleWeb/sca/Usl0_001Export","required":{"citizen":{"factAddress":true,"phone":true,"email":true,"address":true,"snils":true,"birthDate":true,"passport":true,"birthPlace":true},"organization":{"inn":false,"address":false,"ogrn":false}},"user":{"id":"user_4bb7f0ac-a9df-4349-9240-5120e222974f"}},"success":true}